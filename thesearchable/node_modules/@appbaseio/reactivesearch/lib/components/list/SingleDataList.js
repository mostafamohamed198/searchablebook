'use strict';

exports.__esModule = true;

var _styledBase = require('@emotion/styled-base');

var _styledBase2 = _interopRequireDefault(_styledBase);

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('@appbaseio/reactivecore/lib/actions');

var _hoistNonReactStatics = require('hoist-non-react-statics');

var _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);

var _helper = require('@appbaseio/reactivecore/lib/utils/helper');

var _suggestions = require('@appbaseio/reactivecore/lib/utils/suggestions');

var _transform = require('@appbaseio/reactivecore/lib/utils/transform');

var _constants = require('@appbaseio/reactivecore/lib/utils/constants');

var _types = require('@appbaseio/reactivecore/lib/utils/types');

var _types2 = _interopRequireDefault(_types);

var _Title = require('../../styles/Title');

var _Title2 = _interopRequireDefault(_Title);

var _Input = require('../../styles/Input');

var _Input2 = _interopRequireDefault(_Input);

var _Container = require('../../styles/Container');

var _Container2 = _interopRequireDefault(_Container);

var _FormControlList = require('../../styles/FormControlList');

var _utils = require('../../utils');

var _PreferencesConsumer = require('../basic/PreferencesConsumer');

var _PreferencesConsumer2 = _interopRequireDefault(_PreferencesConsumer);

var _ComponentWrapper = require('../basic/ComponentWrapper');

var _ComponentWrapper2 = _interopRequireDefault(_ComponentWrapper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _EMOTION_STRINGIFIED_CSS_ERROR__() { return 'You have tried to stringify object returned from `css` function. It isn\'t supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).'; }

var SingleDataListUL = ( /*#__PURE__*/0, _styledBase2.default)(_FormControlList.UL, {
	target: 'e3rkxte0',
	label: 'SingleDataListUL'
})('display:', function (_ref) {
	var displayAsVertical = _ref.displayAsVertical;
	return displayAsVertical ? 'block' : 'flex';
}, ';white-space:nowrap;' + (process.env.NODE_ENV === 'production' ? '' : '/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2xpc3QvU2luZ2xlRGF0YUxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUNtQyIsImZpbGUiOiIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9saXN0L1NpbmdsZURhdGFMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcblx0dXBkYXRlUXVlcnksXG5cdHNldFF1ZXJ5T3B0aW9ucyxcblx0c2V0Q3VzdG9tUXVlcnksXG5cdHNldERlZmF1bHRRdWVyeSxcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL2FjdGlvbnMnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7XG5cdGNoZWNrVmFsdWVDaGFuZ2UsXG5cdGNoZWNrUHJvcENoYW5nZSxcblx0Z2V0Q2xhc3NOYW1lLFxuXHRjaGVja1NvbWVQcm9wQ2hhbmdlLFxuXHRnZXRRdWVyeU9wdGlvbnMsXG5cdGdldE9wdGlvbnNGcm9tUXVlcnksXG5cdGdldEFnZ3NRdWVyeSxcblx0dXBkYXRlQ3VzdG9tUXVlcnksXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSxcblx0dXBkYXRlSW50ZXJuYWxRdWVyeSxcblx0Z2V0Q29tcG9uZW50LFxuXHRoYXNDdXN0b21SZW5kZXJlcixcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL2hlbHBlcic7XG5pbXBvcnQgeyByZXBsYWNlRGlhY3JpdGljcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9zdWdnZXN0aW9ucyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbENvbXBvbmVudElEIH0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBjb21wb25lbnRUeXBlcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGVzIGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy90eXBlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5cbmltcG9ydCBUaXRsZSBmcm9tICcuLi8uLi9zdHlsZXMvVGl0bGUnO1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uL3N0eWxlcy9JbnB1dCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uLy4uL3N0eWxlcy9Db250YWluZXInO1xuaW1wb3J0IHsgVUwsIFJhZGlvIH0gZnJvbSAnLi4vLi4vc3R5bGVzL0Zvcm1Db250cm9sTGlzdCc7XG5pbXBvcnQgeyBjb25uZWN0LCBpc0V2ZW50LCBpc1F1ZXJ5SWRlbnRpY2FsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IFByZWZlcmVuY2VzQ29uc3VtZXIgZnJvbSAnLi4vYmFzaWMvUHJlZmVyZW5jZXNDb25zdW1lcic7XG5pbXBvcnQgQ29tcG9uZW50V3JhcHBlciBmcm9tICcuLi9iYXNpYy9Db21wb25lbnRXcmFwcGVyJztcblxuY29uc3QgU2luZ2xlRGF0YUxpc3RVTCA9IHN0eWxlZChVTClgXG5cdGRpc3BsYXk6ICR7KHsgZGlzcGxheUFzVmVydGljYWwgfSkgPT4gKGRpc3BsYXlBc1ZlcnRpY2FsID8gJ2Jsb2NrJyA6ICdmbGV4Jyl9O1xuXHR3aGl0ZS1zcGFjZTogbm93cmFwO1xuYDtcblxuY29uc3QgU3BhbiA9IHN0eWxlZC5zcGFuYFxuXHR3aWR0aDogYXV0byAhaW1wb3J0YW50O1xuYDtcbmNvbnN0IExhYmVsID0gc3R5bGVkLmxhYmVsYFxuXHQ6OmJlZm9yZSB7XG5cdFx0d2lkdGg6IDE2cHggIWltcG9ydGFudDtcblx0fVxuXHRtYXJnaW46IDAuNHJlbSAhaW1wb3J0YW50O1xuYDtcblxuY2xhc3MgU2luZ2xlRGF0YUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBwcm9wcy52YWx1ZTtcblx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCAnJztcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0Y3VycmVudFZhbHVlLFxuXHRcdFx0c2VhcmNoVGVybTogJycsXG5cdFx0XHRvcHRpb25zOiBwcm9wcy5kYXRhIHx8IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLmludGVybmFsQ29tcG9uZW50ID0gZ2V0SW50ZXJuYWxDb21wb25lbnRJRChwcm9wcy5jb21wb25lbnRJZCk7XG5cblx0XHQvLyBTZXQgY3VzdG9tIGFuZCBkZWZhdWx0IHF1ZXJpZXMgaW4gc3RvcmVcblx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHByb3BzLmNvbXBvbmVudElkLCBwcm9wcywgY3VycmVudFZhbHVlKTtcblx0XHRjb25zdCBoYXNNb3VudGVkID0gZmFsc2U7XG5cblx0XHRpZiAocHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUsIHRydWUsIHByb3BzLCBoYXNNb3VudGVkKTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdFx0Y2hlY2tTb21lUHJvcENoYW5nZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMsIFsnZGF0YUZpZWxkJywgJ25lc3RlZEZpZWxkJywgJ2FnZ3JlZ2F0aW9uU2l6ZSddLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5KHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0aGlzLnByb3BzKTtcblxuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlUXVlcnlPcHRpb25zKHRoaXMucHJvcHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y2hlY2tQcm9wQ2hhbmdlKHRoaXMucHJvcHMuZGF0YSwgcHJldlByb3BzLmRhdGEsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLnByb3BzLnNob3dDb3VudCkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyh0aGlzLnByb3BzKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNoZWNrUHJvcENoYW5nZSh0aGlzLnByb3BzLm9wdGlvbnMsIHByZXZQcm9wcy5vcHRpb25zLCAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vcHRpb25zW3RoaXMucHJvcHMuZGF0YUZpZWxkXSkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlT3B0aW9ucyh0aGlzLnByb3BzLm9wdGlvbnNbdGhpcy5wcm9wcy5kYXRhRmllbGRdLmJ1Y2tldHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVHJlYXQgZGVmYXVsdFF1ZXJ5IGFuZCBjdXN0b21RdWVyeSBhcyByZWFjdGl2ZSBwcm9wc1xuXHRcdGlmICghaXNRdWVyeUlkZW50aWNhbCh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcywgcHJldlByb3BzLCAnZGVmYXVsdFF1ZXJ5JykpIHtcblx0XHRcdHRoaXMudXBkYXRlRGVmYXVsdFF1ZXJ5KCk7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5KCcnLCB0aGlzLnByb3BzKTtcblx0XHR9XG5cblx0XHRpZiAoIWlzUXVlcnlJZGVudGljYWwodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMsIHByZXZQcm9wcywgJ2N1c3RvbVF1ZXJ5JykpIHtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnByb3BzLnZhbHVlICE9PSBwcmV2UHJvcHMudmFsdWUpIHtcblx0XHRcdHRoaXMuc2V0VmFsdWUodGhpcy5wcm9wcy52YWx1ZSk7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdHRoaXMuc3RhdGUuY3VycmVudFZhbHVlICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWVcblx0XHRcdCYmIHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSAhPT0gcHJldlByb3BzLnNlbGVjdGVkVmFsdWVcblx0XHQpIHtcblx0XHRcdGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuXHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWUgfHwgJycpO1xuXHRcdFx0fSBlbHNlIGlmIChvbkNoYW5nZSkge1xuXHRcdFx0XHRvbkNoYW5nZSh0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWUgfHwgJycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGRlZmF1bHRRdWVyeSA9ICh2YWx1ZSwgcHJvcHMpID0+ICh7XG5cdFx0cXVlcnk6IHtcblx0XHRcdHF1ZXJ5Rm9ybWF0OiBwcm9wcy5xdWVyeUZvcm1hdCxcblx0XHRcdGRhdGFGaWVsZDogcHJvcHMuZGF0YUZpZWxkLFxuXHRcdFx0dmFsdWUsXG5cdFx0XHRuZXN0ZWRGaWVsZDogcHJvcHMubmVzdGVkRmllbGQsXG5cdFx0XHRzZWxlY3RBbGxMYWJlbDogcHJvcHMuc2VsZWN0QWxsTGFiZWwsXG5cdFx0XHRzaG93TWlzc2luZzogcHJvcHMuc2hvd01pc3NpbmcsXG5cdFx0fSxcblx0fSk7XG5cblx0c2V0VmFsdWUgPSAobmV4dFZhbHVlLCBpc0RlZmF1bHRWYWx1ZSA9IGZhbHNlLCBwcm9wcyA9IHRoaXMucHJvcHMsIGhhc01vdW50ZWQgPSB0cnVlKSA9PiB7XG5cdFx0bGV0IHZhbHVlID0gbmV4dFZhbHVlO1xuXG5cdFx0aWYgKGlzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IG5leHRWYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG5leHRWYWx1ZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgJiYgaGFzTW91bnRlZCkge1xuXHRcdFx0dmFsdWUgPSAnJztcblx0XHR9XG5cblx0XHRjb25zdCBwZXJmb3JtVXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlVXBkYXRlcyA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeSh2YWx1ZSwgcHJvcHMpO1xuXHRcdFx0XHRpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoaGFzTW91bnRlZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRoYW5kbGVVcGRhdGVzLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlVXBkYXRlcygpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjaGVja1ZhbHVlQ2hhbmdlKHByb3BzLmNvbXBvbmVudElkLCB2YWx1ZSwgcHJvcHMuYmVmb3JlVmFsdWVDaGFuZ2UsIHBlcmZvcm1VcGRhdGUpO1xuXHR9O1xuXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSA9IChxdWVyeU9wdGlvbnMpID0+IHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHQvLyBVcGRhdGUgZGVmYXVsdCBxdWVyeSBmb3IgUlMgQVBJXG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHRoaXMucHJvcHMuY29tcG9uZW50SWQsIHRoaXMucHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlSW50ZXJuYWxRdWVyeShcblx0XHRcdHRoaXMuaW50ZXJuYWxDb21wb25lbnQsXG5cdFx0XHRxdWVyeU9wdGlvbnMsXG5cdFx0XHRjdXJyZW50VmFsdWUsXG5cdFx0XHR0aGlzLnByb3BzLFxuXHRcdFx0U2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSksXG5cdFx0XHRudWxsLFxuXHRcdCk7XG5cdH07XG5cblx0dXBkYXRlUXVlcnkgPSAodmFsdWUsIHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgeyBjdXN0b21RdWVyeSB9ID0gcHJvcHM7XG5cdFx0bGV0IGN1c3RvbVF1ZXJ5T3B0aW9ucztcblxuXHRcdGxldCBjdXJyZW50VmFsdWUgPSB2YWx1ZTtcblx0XHRpZiAodmFsdWUgIT09IHByb3BzLnNlbGVjdEFsbExhYmVsKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLmxhYmVsID09PSB2YWx1ZSk7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUgPyBjdXJyZW50VmFsdWUudmFsdWUgOiBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RBbGxMYWJlbDtcblx0XHR9XG5cdFx0Y29uc3QgcXVlcnkgPSBTaW5nbGVEYXRhTGlzdC5kZWZhdWx0UXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcyk7XG5cdFx0aWYgKGN1c3RvbVF1ZXJ5KSB7XG5cdFx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9XG5cdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHByb3BzLmNvbXBvbmVudElkLCBjdXN0b21RdWVyeU9wdGlvbnMsIGZhbHNlKTtcblxuXHRcdHByb3BzLnVwZGF0ZVF1ZXJ5KHtcblx0XHRcdGNvbXBvbmVudElkOiBwcm9wcy5jb21wb25lbnRJZCxcblx0XHRcdHF1ZXJ5LFxuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSA/IHZhbHVlIDogbnVsbCxcblx0XHRcdGxhYmVsOiBwcm9wcy5maWx0ZXJMYWJlbCxcblx0XHRcdHNob3dGaWx0ZXI6IHByb3BzLnNob3dGaWx0ZXIsXG5cdFx0XHRVUkxQYXJhbXM6IHByb3BzLlVSTFBhcmFtcyxcblx0XHRcdGNvbXBvbmVudFR5cGU6IGNvbXBvbmVudFR5cGVzLnNpbmdsZURhdGFMaXN0LFxuXHRcdH0pO1xuXHR9O1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcywgc3RhdGUpIHtcblx0XHRjb25zdCBxdWVyeU9wdGlvbnMgPSBnZXRRdWVyeU9wdGlvbnMocHJvcHMpO1xuXHRcdGNvbnN0IGluY2x1ZGVzID0gc3RhdGUub3B0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLnZhbHVlKTtcblx0XHRyZXR1cm4gZ2V0QWdnc1F1ZXJ5KHN0YXRlLmN1cnJlbnRWYWx1ZSwgcXVlcnlPcHRpb25zLCBwcm9wcywgaW5jbHVkZXMpO1xuXHR9XG5cblx0dXBkYXRlUXVlcnlPcHRpb25zID0gKHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgcXVlcnlPcHRpb25zID0gU2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnMocHJvcHMsIHRoaXMuc3RhdGUpO1xuXHRcdGlmIChwcm9wcy5kZWZhdWx0UXVlcnkpIHtcblx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWU7XG5cdFx0XHRjb25zdCBkZWZhdWx0UXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShwcm9wcy5kZWZhdWx0UXVlcnkodmFsdWUsIHByb3BzKSk7XG5cdFx0XHRwcm9wcy5zZXRRdWVyeU9wdGlvbnModGhpcy5pbnRlcm5hbENvbXBvbmVudCwge1xuXHRcdFx0XHQuLi5xdWVyeU9wdGlvbnMsXG5cdFx0XHRcdC4uLmRlZmF1bHRRdWVyeU9wdGlvbnMsXG5cdFx0XHR9KTtcblx0XHRcdHVwZGF0ZURlZmF1bHRRdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHRoaXMuaW50ZXJuYWxDb21wb25lbnQsIHF1ZXJ5T3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdHVwZGF0ZVN0YXRlT3B0aW9ucyA9IChidWNrZXQpID0+IHtcblx0XHRpZiAoYnVja2V0KSB7XG5cdFx0XHRjb25zdCBidWNrZXREaWN0aW9uYXJ5ID0gYnVja2V0LnJlZHVjZShcblx0XHRcdFx0KG9iaiwgaXRlbSkgPT4gKHtcblx0XHRcdFx0XHQuLi5vYmosXG5cdFx0XHRcdFx0W2l0ZW0ua2V5XTogaXRlbS5kb2NfY291bnQsXG5cdFx0XHRcdFx0W2l0ZW0ua2V5X2FzX3N0cmluZ106IGl0ZW0uZG9jX2NvdW50LFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0e30sXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXHRcdFx0Y29uc3QgbmV3T3B0aW9ucyA9IG9wdGlvbnMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRcdGlmIChidWNrZXREaWN0aW9uYXJ5W2l0ZW0udmFsdWVdKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdC4uLml0ZW0sXG5cdFx0XHRcdFx0XHRjb3VudDogYnVja2V0RGljdGlvbmFyeVtpdGVtLnZhbHVlXSB8fCAwLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHQuLi5pdGVtLFxuXHRcdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRvcHRpb25zOiBuZXdPcHRpb25zLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdGhhbmRsZUlucHV0Q2hhbmdlID0gKGUpID0+IHtcblx0XHRjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHNlYXJjaFRlcm06IHZhbHVlLFxuXHRcdH0pO1xuXHR9O1xuXG5cdHJlbmRlclNlYXJjaCA9ICgpID0+IHtcblx0XHRpZiAodGhpcy5wcm9wcy5zaG93U2VhcmNoKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8SW5wdXRcblx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdpbnB1dCcpIHx8IG51bGx9XG5cdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2V9XG5cdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNoVGVybX1cblx0XHRcdFx0XHRwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cblx0XHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdFx0bWFyZ2luOiAnMCAwIDhweCcsXG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS1zZWFyY2hgfVxuXHRcdFx0XHRcdHRoZW1lUHJlc2V0PXt0aGlzLnByb3BzLnRoZW1lUHJlc2V0fVxuXHRcdFx0XHQvPlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH07XG5cblx0aGFuZGxlQ2xpY2sgPSAoZSkgPT4ge1xuXHRcdGxldCBjdXJyZW50VmFsdWUgPSBlO1xuXHRcdGlmIChpc0V2ZW50KGUpKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcblx0XHR9XG5cdFx0Y29uc3QgeyBlbmFibGVTdHJpY3RTZWxlY3Rpb24gfSA9IHRoaXMucHJvcHM7XG5cdFx0aWYgKGVuYWJsZVN0cmljdFNlbGVjdGlvbiAmJiBjdXJyZW50VmFsdWUgPT09IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLnNldFZhbHVlKGN1cnJlbnRWYWx1ZSk7XG5cdFx0fSBlbHNlIGlmIChvbkNoYW5nZSkge1xuXHRcdFx0b25DaGFuZ2UoY3VycmVudFZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0Z2V0Q29tcG9uZW50KCkge1xuXHRcdGNvbnN0IHsgY3VycmVudFZhbHVlIH0gPSB0aGlzLnN0YXRlO1xuXHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHR2YWx1ZTogY3VycmVudFZhbHVlLFxuXHRcdFx0ZGF0YTogdGhpcy5saXN0SXRlbXMsXG5cdFx0XHRoYW5kbGVDaGFuZ2U6IHRoaXMuaGFuZGxlQ2xpY2ssXG5cdFx0XHRyYXdEYXRhOiB0aGlzLnByb3BzLnJhd0RhdGEsXG5cdFx0XHR0b3RhbDogdGhpcy5wcm9wcy50b3RhbCxcblx0XHR9O1xuXHRcdHJldHVybiBnZXRDb21wb25lbnQoZGF0YSwgdGhpcy5wcm9wcyk7XG5cdH1cblxuXHRnZXQgaGFzQ3VzdG9tUmVuZGVyZXIoKSB7XG5cdFx0cmV0dXJuIGhhc0N1c3RvbVJlbmRlcmVyKHRoaXMucHJvcHMpO1xuXHR9XG5cblx0Z2V0IGxpc3RJdGVtcygpIHtcblx0XHRjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSBvcHRpb25zLmZpbHRlcigoaXRlbSkgPT4ge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd1NlYXJjaCAmJiB0aGlzLnN0YXRlLnNlYXJjaFRlcm0pIHtcblx0XHRcdFx0cmV0dXJuIHJlcGxhY2VEaWFjcml0aWNzKGl0ZW0ubGFiZWwpXG5cdFx0XHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdFx0XHQuaW5jbHVkZXMocmVwbGFjZURpYWNyaXRpY3ModGhpcy5zdGF0ZS5zZWFyY2hUZXJtKS50b0xvd2VyQ2FzZSgpKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXHRcdHJldHVybiBsaXN0SXRlbXM7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0c2VsZWN0QWxsTGFiZWwsIHNob3dDb3VudCwgcmVuZGVySXRlbSwgdG90YWwsXG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0aWYgKCF0aGlzLmhhc0N1c3RvbVJlbmRlcmVyICYmIG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgPyB0aGlzLnByb3BzLnJlbmRlck5vUmVzdWx0cygpIDogbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSB0aGlzLmxpc3RJdGVtcztcblxuXHRcdGNvbnN0IGlzQWxsQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBzZWxlY3RBbGxMYWJlbDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PENvbnRhaW5lciBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlICYmIChcblx0XHRcdFx0XHQ8VGl0bGUgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAndGl0bGUnKSB8fCBudWxsfT5cblx0XHRcdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlfVxuXHRcdFx0XHRcdDwvVGl0bGU+XG5cdFx0XHRcdCl9XG5cdFx0XHRcdHt0aGlzLnJlbmRlclNlYXJjaCgpfVxuXHRcdFx0XHR7dGhpcy5oYXNDdXN0b21SZW5kZXJlciA/IChcblx0XHRcdFx0XHR0aGlzLmdldENvbXBvbmVudCgpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0PFNpbmdsZURhdGFMaXN0VUxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xpc3QnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0taXRlbXNgfVxuXHRcdFx0XHRcdFx0ZGlzcGxheUFzVmVydGljYWw9e3RoaXMucHJvcHMuZGlzcGxheUFzVmVydGljYWx9XG5cdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9ncm91cFwiXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e3NlbGVjdEFsbExhYmVsICYmIChcblx0XHRcdFx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0XHRcdFx0a2V5PXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake2lzQWxsQ2hlY2tlZCA/ICdhY3RpdmUnIDogJyd9YH1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9cIlxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNBbGxDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0PFJhZGlvXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7c2VsZWN0QWxsTGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0FsbENoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0FsbENoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRzaG93PXt0aGlzLnByb3BzLnNob3dSYWRpb31cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0XHRcdFx0aHRtbEZvcj17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tJHtzZWxlY3RBbGxMYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdDxTcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7c2VsZWN0QWxsTGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtzaG93Q291bnQgJiYgdG90YWwgJiYgKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnY291bnQnKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR8fCBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Jm5ic3A7KHt0b3RhbH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9TcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XG5cdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0e2xpc3RJdGVtcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0PyBsaXN0SXRlbXMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaXNDaGVja2VkID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgPT09IGl0ZW0ubGFiZWw7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdDxsaVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRrZXk9e2l0ZW0ubGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17YCR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNDaGVja2VkID8gJ2FjdGl2ZScgOiAnJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZT1cInJhZGlvXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1jaGVja2VkPXtpc0NoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxSYWRpb1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ3JhZGlvJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7aXRlbS5sYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0NoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVhZE9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0NoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2hvdz17dGhpcy5wcm9wcy5zaG93UmFkaW99XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGh0bWxGb3I9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7aXRlbS5sYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3JlbmRlckl0ZW0gPyAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZW5kZXJJdGVtKGl0ZW0ubGFiZWwsIGl0ZW0uY291bnQsIGlzQ2hlY2tlZClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFNwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7c2hvd0NvdW50ICYmIGl0ZW0uY291bnQgJiYgKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5pbm5lckNsYXNzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdjb3VudCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCkgfHwgbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Jm5ic3A7KHtpdGVtLmNvdW50fSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L1NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fSkgLy8gcHJldHRpZXItaWdub3JlXG5cdFx0XHRcdFx0XHRcdDogdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgJiYgdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMoKX1cblx0XHRcdFx0XHQ8L1NpbmdsZURhdGFMaXN0VUw+XG5cdFx0XHRcdCl9XG5cdFx0XHQ8L0NvbnRhaW5lcj5cblx0XHQpO1xuXHR9XG59XG5cblNpbmdsZURhdGFMaXN0LnByb3BUeXBlcyA9IHtcblx0c2V0UXVlcnlPcHRpb25zOiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdHVwZGF0ZVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdHRvdGFsOiB0eXBlcy5udW1iZXIsXG5cdHNlbGVjdGVkVmFsdWU6IHR5cGVzLnNlbGVjdGVkVmFsdWUsXG5cdG9wdGlvbnM6IHR5cGVzLm9wdGlvbnMsXG5cdHJhd0RhdGE6IHR5cGVzLnJhd0RhdGEsXG5cdHNldEN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdC8vIGNvbXBvbmVudCBwcm9wc1xuXHRiZWZvcmVWYWx1ZUNoYW5nZTogdHlwZXMuZnVuYyxcblx0Y2hpbGRyZW46IHR5cGVzLmZ1bmMsXG5cdGNsYXNzTmFtZTogdHlwZXMuc3RyaW5nLFxuXHRjb21wb25lbnRJZDogdHlwZXMuc3RyaW5nUmVxdWlyZWQsXG5cdGN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jLFxuXHRkYXRhOiB0eXBlcy5kYXRhLFxuXHRkYXRhRmllbGQ6IHR5cGVzLnN0cmluZ1JlcXVpcmVkLFxuXHRkZWZhdWx0VmFsdWU6IHR5cGVzLnN0cmluZyxcblx0dmFsdWU6IHR5cGVzLnN0cmluZyxcblx0ZmlsdGVyTGFiZWw6IHR5cGVzLnN0cmluZyxcblx0aW5uZXJDbGFzczogdHlwZXMuc3R5bGUsXG5cdG9uUXVlcnlDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uVmFsdWVDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uQ2hhbmdlOiB0eXBlcy5mdW5jLFxuXHRwbGFjZWhvbGRlcjogdHlwZXMuc3RyaW5nLFxuXHRuZXN0ZWRGaWVsZDogdHlwZXMuc3RyaW5nLFxuXHRyZWFjdDogdHlwZXMucmVhY3QsXG5cdHNlbGVjdEFsbExhYmVsOiB0eXBlcy5zdHJpbmcsXG5cdHNob3dGaWx0ZXI6IHR5cGVzLmJvb2wsXG5cdHNob3dSYWRpbzogdHlwZXMuYm9vbFJlcXVpcmVkLFxuXHRzaG93U2VhcmNoOiB0eXBlcy5ib29sLFxuXHRzdHlsZTogdHlwZXMuc3R5bGUsXG5cdHRoZW1lUHJlc2V0OiB0eXBlcy50aGVtZVByZXNldCxcblx0dGl0bGU6IHR5cGVzLnRpdGxlLFxuXHRVUkxQYXJhbXM6IHR5cGVzLmJvb2wsXG5cdHNob3dDb3VudDogdHlwZXMuYm9vbCxcblx0cmVuZGVyOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJJdGVtOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJOb1Jlc3VsdHM6IHR5cGVzLmZ1bmMsXG5cdGluZGV4OiB0eXBlcy5zdHJpbmcsXG5cdGVuYWJsZVN0cmljdFNlbGVjdGlvbjogdHlwZXMuYm9vbCxcblx0ZGlzcGxheUFzVmVydGljYWw6IHR5cGVzLmJvb2wsXG5cdGVuZHBvaW50OiB0eXBlcy5lbmRwb2ludCxcbn07XG5cblNpbmdsZURhdGFMaXN0LmRlZmF1bHRQcm9wcyA9IHtcblx0Y2xhc3NOYW1lOiBudWxsLFxuXHRwbGFjZWhvbGRlcjogJ1NlYXJjaCcsXG5cdHNob3dGaWx0ZXI6IHRydWUsXG5cdHNob3dSYWRpbzogdHJ1ZSxcblx0c2hvd1NlYXJjaDogdHJ1ZSxcblx0c3R5bGU6IHt9LFxuXHRVUkxQYXJhbXM6IGZhbHNlLFxuXHRzaG93Q291bnQ6IGZhbHNlLFxuXHRlbmFibGVTdHJpY3RTZWxlY3Rpb246IGZhbHNlLFxuXHRkaXNwbGF5QXNWZXJ0aWNhbDogdHJ1ZSxcbn07XG5cbi8vIEFkZCBjb21wb25lbnRUeXBlIGZvciBTU1JcblNpbmdsZURhdGFMaXN0LmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdDtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlLCBwcm9wcykgPT4gKHtcblx0cmF3RGF0YTogc3RhdGUucmF3RGF0YVtwcm9wcy5jb21wb25lbnRJZF0sXG5cdHNlbGVjdGVkVmFsdWU6XG5cdFx0KHN0YXRlLnNlbGVjdGVkVmFsdWVzW3Byb3BzLmNvbXBvbmVudElkXVxuXHRcdFx0JiYgc3RhdGUuc2VsZWN0ZWRWYWx1ZXNbcHJvcHMuY29tcG9uZW50SWRdLnZhbHVlKVxuXHRcdHx8IG51bGwsXG5cdHRoZW1lUHJlc2V0OiBzdGF0ZS5jb25maWcudGhlbWVQcmVzZXQsXG5cdHRvdGFsOiBzdGF0ZS5oaXRzW3Byb3BzLmNvbXBvbmVudElkXSAmJiBzdGF0ZS5oaXRzW3Byb3BzLmNvbXBvbmVudElkXS50b3RhbCxcblx0b3B0aW9uczpcblx0XHRwcm9wcy5uZXN0ZWRGaWVsZCAmJiBzdGF0ZS5hZ2dyZWdhdGlvbnNbcHJvcHMuY29tcG9uZW50SWRdXG5cdFx0XHQ/IHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF0ucmVhY3RpdmVzZWFyY2hfbmVzdGVkXG5cdFx0XHQ6IHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF0sXG59KTtcblxuY29uc3QgbWFwRGlzcGF0Y2h0b1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcblx0c2V0Q3VzdG9tUXVlcnk6IChjb21wb25lbnQsIHF1ZXJ5KSA9PiBkaXNwYXRjaChzZXRDdXN0b21RdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHNldERlZmF1bHRRdWVyeTogKGNvbXBvbmVudCwgcXVlcnkpID0+IGRpc3BhdGNoKHNldERlZmF1bHRRdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHVwZGF0ZVF1ZXJ5OiB1cGRhdGVRdWVyeU9iamVjdCA9PiBkaXNwYXRjaCh1cGRhdGVRdWVyeSh1cGRhdGVRdWVyeU9iamVjdCkpLFxuXHRzZXRRdWVyeU9wdGlvbnM6ICguLi5hcmdzKSA9PiBkaXNwYXRjaChzZXRRdWVyeU9wdGlvbnMoLi4uYXJncykpLFxufSk7XG5cbmNvbnN0IENvbm5lY3RlZENvbXBvbmVudCA9IGNvbm5lY3QoXG5cdG1hcFN0YXRlVG9Qcm9wcyxcblx0bWFwRGlzcGF0Y2h0b1Byb3BzLFxuKShwcm9wcyA9PiA8U2luZ2xlRGF0YUxpc3QgcmVmPXtwcm9wcy5teUZvcndhcmRlZFJlZn0gey4uLnByb3BzfSAvPik7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgRm9yd2FyZFJlZkNvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IChcblx0PFByZWZlcmVuY2VzQ29uc3VtZXIgdXNlclByb3BzPXtwcm9wc30+XG5cdFx0e3ByZWZlcmVuY2VQcm9wcyA9PiAoXG5cdFx0XHQ8Q29tcG9uZW50V3JhcHBlclxuXHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRpbnRlcm5hbENvbXBvbmVudFxuXHRcdFx0XHRjb21wb25lbnRUeXBlPXtjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdH1cblx0XHRcdD5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbXBvbmVudFByb3BzID0+XG5cdFx0XHRcdFx0XHQoPENvbm5lY3RlZENvbXBvbmVudFxuXHRcdFx0XHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRcdFx0XHR7Li4uY29tcG9uZW50UHJvcHN9XG5cdFx0XHRcdFx0XHRcdG15Rm9yd2FyZGVkUmVmPXtyZWZ9XG5cdFx0XHRcdFx0XHQvPilcblx0XHRcdFx0fVxuXHRcdFx0PC9Db21wb25lbnRXcmFwcGVyPlxuXHRcdCl9XG5cdDwvUHJlZmVyZW5jZXNDb25zdW1lcj5cbikpO1xuaG9pc3ROb25SZWFjdFN0YXRpY3MoRm9yd2FyZFJlZkNvbXBvbmVudCwgU2luZ2xlRGF0YUxpc3QpO1xuXG5Gb3J3YXJkUmVmQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ1NpbmdsZURhdGFMaXN0JztcbmV4cG9ydCBkZWZhdWx0IEZvcndhcmRSZWZDb21wb25lbnQ7XG4iXX0= */'));

var Span = (0, _styledBase2.default)('span', {
	target: 'e3rkxte1',
	label: 'Span'
})(process.env.NODE_ENV === 'production' ? {
	name: 'dhunkn',
	styles: 'width:auto !important;'
} : {
	name: 'dhunkn',
	styles: 'width:auto !important;',
	map: '/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2xpc3QvU2luZ2xlRGF0YUxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMEN3QiIsImZpbGUiOiIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9saXN0L1NpbmdsZURhdGFMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcblx0dXBkYXRlUXVlcnksXG5cdHNldFF1ZXJ5T3B0aW9ucyxcblx0c2V0Q3VzdG9tUXVlcnksXG5cdHNldERlZmF1bHRRdWVyeSxcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL2FjdGlvbnMnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7XG5cdGNoZWNrVmFsdWVDaGFuZ2UsXG5cdGNoZWNrUHJvcENoYW5nZSxcblx0Z2V0Q2xhc3NOYW1lLFxuXHRjaGVja1NvbWVQcm9wQ2hhbmdlLFxuXHRnZXRRdWVyeU9wdGlvbnMsXG5cdGdldE9wdGlvbnNGcm9tUXVlcnksXG5cdGdldEFnZ3NRdWVyeSxcblx0dXBkYXRlQ3VzdG9tUXVlcnksXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSxcblx0dXBkYXRlSW50ZXJuYWxRdWVyeSxcblx0Z2V0Q29tcG9uZW50LFxuXHRoYXNDdXN0b21SZW5kZXJlcixcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL2hlbHBlcic7XG5pbXBvcnQgeyByZXBsYWNlRGlhY3JpdGljcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9zdWdnZXN0aW9ucyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbENvbXBvbmVudElEIH0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBjb21wb25lbnRUeXBlcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGVzIGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy90eXBlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5cbmltcG9ydCBUaXRsZSBmcm9tICcuLi8uLi9zdHlsZXMvVGl0bGUnO1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uL3N0eWxlcy9JbnB1dCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uLy4uL3N0eWxlcy9Db250YWluZXInO1xuaW1wb3J0IHsgVUwsIFJhZGlvIH0gZnJvbSAnLi4vLi4vc3R5bGVzL0Zvcm1Db250cm9sTGlzdCc7XG5pbXBvcnQgeyBjb25uZWN0LCBpc0V2ZW50LCBpc1F1ZXJ5SWRlbnRpY2FsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IFByZWZlcmVuY2VzQ29uc3VtZXIgZnJvbSAnLi4vYmFzaWMvUHJlZmVyZW5jZXNDb25zdW1lcic7XG5pbXBvcnQgQ29tcG9uZW50V3JhcHBlciBmcm9tICcuLi9iYXNpYy9Db21wb25lbnRXcmFwcGVyJztcblxuY29uc3QgU2luZ2xlRGF0YUxpc3RVTCA9IHN0eWxlZChVTClgXG5cdGRpc3BsYXk6ICR7KHsgZGlzcGxheUFzVmVydGljYWwgfSkgPT4gKGRpc3BsYXlBc1ZlcnRpY2FsID8gJ2Jsb2NrJyA6ICdmbGV4Jyl9O1xuXHR3aGl0ZS1zcGFjZTogbm93cmFwO1xuYDtcblxuY29uc3QgU3BhbiA9IHN0eWxlZC5zcGFuYFxuXHR3aWR0aDogYXV0byAhaW1wb3J0YW50O1xuYDtcbmNvbnN0IExhYmVsID0gc3R5bGVkLmxhYmVsYFxuXHQ6OmJlZm9yZSB7XG5cdFx0d2lkdGg6IDE2cHggIWltcG9ydGFudDtcblx0fVxuXHRtYXJnaW46IDAuNHJlbSAhaW1wb3J0YW50O1xuYDtcblxuY2xhc3MgU2luZ2xlRGF0YUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBwcm9wcy52YWx1ZTtcblx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCAnJztcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0Y3VycmVudFZhbHVlLFxuXHRcdFx0c2VhcmNoVGVybTogJycsXG5cdFx0XHRvcHRpb25zOiBwcm9wcy5kYXRhIHx8IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLmludGVybmFsQ29tcG9uZW50ID0gZ2V0SW50ZXJuYWxDb21wb25lbnRJRChwcm9wcy5jb21wb25lbnRJZCk7XG5cblx0XHQvLyBTZXQgY3VzdG9tIGFuZCBkZWZhdWx0IHF1ZXJpZXMgaW4gc3RvcmVcblx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHByb3BzLmNvbXBvbmVudElkLCBwcm9wcywgY3VycmVudFZhbHVlKTtcblx0XHRjb25zdCBoYXNNb3VudGVkID0gZmFsc2U7XG5cblx0XHRpZiAocHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUsIHRydWUsIHByb3BzLCBoYXNNb3VudGVkKTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdFx0Y2hlY2tTb21lUHJvcENoYW5nZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMsIFsnZGF0YUZpZWxkJywgJ25lc3RlZEZpZWxkJywgJ2FnZ3JlZ2F0aW9uU2l6ZSddLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5KHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0aGlzLnByb3BzKTtcblxuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlUXVlcnlPcHRpb25zKHRoaXMucHJvcHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y2hlY2tQcm9wQ2hhbmdlKHRoaXMucHJvcHMuZGF0YSwgcHJldlByb3BzLmRhdGEsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLnByb3BzLnNob3dDb3VudCkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyh0aGlzLnByb3BzKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNoZWNrUHJvcENoYW5nZSh0aGlzLnByb3BzLm9wdGlvbnMsIHByZXZQcm9wcy5vcHRpb25zLCAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vcHRpb25zW3RoaXMucHJvcHMuZGF0YUZpZWxkXSkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlT3B0aW9ucyh0aGlzLnByb3BzLm9wdGlvbnNbdGhpcy5wcm9wcy5kYXRhRmllbGRdLmJ1Y2tldHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVHJlYXQgZGVmYXVsdFF1ZXJ5IGFuZCBjdXN0b21RdWVyeSBhcyByZWFjdGl2ZSBwcm9wc1xuXHRcdGlmICghaXNRdWVyeUlkZW50aWNhbCh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcywgcHJldlByb3BzLCAnZGVmYXVsdFF1ZXJ5JykpIHtcblx0XHRcdHRoaXMudXBkYXRlRGVmYXVsdFF1ZXJ5KCk7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5KCcnLCB0aGlzLnByb3BzKTtcblx0XHR9XG5cblx0XHRpZiAoIWlzUXVlcnlJZGVudGljYWwodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMsIHByZXZQcm9wcywgJ2N1c3RvbVF1ZXJ5JykpIHtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnByb3BzLnZhbHVlICE9PSBwcmV2UHJvcHMudmFsdWUpIHtcblx0XHRcdHRoaXMuc2V0VmFsdWUodGhpcy5wcm9wcy52YWx1ZSk7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdHRoaXMuc3RhdGUuY3VycmVudFZhbHVlICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWVcblx0XHRcdCYmIHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSAhPT0gcHJldlByb3BzLnNlbGVjdGVkVmFsdWVcblx0XHQpIHtcblx0XHRcdGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuXHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWUgfHwgJycpO1xuXHRcdFx0fSBlbHNlIGlmIChvbkNoYW5nZSkge1xuXHRcdFx0XHRvbkNoYW5nZSh0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWUgfHwgJycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGRlZmF1bHRRdWVyeSA9ICh2YWx1ZSwgcHJvcHMpID0+ICh7XG5cdFx0cXVlcnk6IHtcblx0XHRcdHF1ZXJ5Rm9ybWF0OiBwcm9wcy5xdWVyeUZvcm1hdCxcblx0XHRcdGRhdGFGaWVsZDogcHJvcHMuZGF0YUZpZWxkLFxuXHRcdFx0dmFsdWUsXG5cdFx0XHRuZXN0ZWRGaWVsZDogcHJvcHMubmVzdGVkRmllbGQsXG5cdFx0XHRzZWxlY3RBbGxMYWJlbDogcHJvcHMuc2VsZWN0QWxsTGFiZWwsXG5cdFx0XHRzaG93TWlzc2luZzogcHJvcHMuc2hvd01pc3NpbmcsXG5cdFx0fSxcblx0fSk7XG5cblx0c2V0VmFsdWUgPSAobmV4dFZhbHVlLCBpc0RlZmF1bHRWYWx1ZSA9IGZhbHNlLCBwcm9wcyA9IHRoaXMucHJvcHMsIGhhc01vdW50ZWQgPSB0cnVlKSA9PiB7XG5cdFx0bGV0IHZhbHVlID0gbmV4dFZhbHVlO1xuXG5cdFx0aWYgKGlzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IG5leHRWYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG5leHRWYWx1ZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgJiYgaGFzTW91bnRlZCkge1xuXHRcdFx0dmFsdWUgPSAnJztcblx0XHR9XG5cblx0XHRjb25zdCBwZXJmb3JtVXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlVXBkYXRlcyA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeSh2YWx1ZSwgcHJvcHMpO1xuXHRcdFx0XHRpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoaGFzTW91bnRlZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRoYW5kbGVVcGRhdGVzLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlVXBkYXRlcygpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjaGVja1ZhbHVlQ2hhbmdlKHByb3BzLmNvbXBvbmVudElkLCB2YWx1ZSwgcHJvcHMuYmVmb3JlVmFsdWVDaGFuZ2UsIHBlcmZvcm1VcGRhdGUpO1xuXHR9O1xuXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSA9IChxdWVyeU9wdGlvbnMpID0+IHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHQvLyBVcGRhdGUgZGVmYXVsdCBxdWVyeSBmb3IgUlMgQVBJXG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHRoaXMucHJvcHMuY29tcG9uZW50SWQsIHRoaXMucHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlSW50ZXJuYWxRdWVyeShcblx0XHRcdHRoaXMuaW50ZXJuYWxDb21wb25lbnQsXG5cdFx0XHRxdWVyeU9wdGlvbnMsXG5cdFx0XHRjdXJyZW50VmFsdWUsXG5cdFx0XHR0aGlzLnByb3BzLFxuXHRcdFx0U2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSksXG5cdFx0XHRudWxsLFxuXHRcdCk7XG5cdH07XG5cblx0dXBkYXRlUXVlcnkgPSAodmFsdWUsIHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgeyBjdXN0b21RdWVyeSB9ID0gcHJvcHM7XG5cdFx0bGV0IGN1c3RvbVF1ZXJ5T3B0aW9ucztcblxuXHRcdGxldCBjdXJyZW50VmFsdWUgPSB2YWx1ZTtcblx0XHRpZiAodmFsdWUgIT09IHByb3BzLnNlbGVjdEFsbExhYmVsKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLmxhYmVsID09PSB2YWx1ZSk7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUgPyBjdXJyZW50VmFsdWUudmFsdWUgOiBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RBbGxMYWJlbDtcblx0XHR9XG5cdFx0Y29uc3QgcXVlcnkgPSBTaW5nbGVEYXRhTGlzdC5kZWZhdWx0UXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcyk7XG5cdFx0aWYgKGN1c3RvbVF1ZXJ5KSB7XG5cdFx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9XG5cdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHByb3BzLmNvbXBvbmVudElkLCBjdXN0b21RdWVyeU9wdGlvbnMsIGZhbHNlKTtcblxuXHRcdHByb3BzLnVwZGF0ZVF1ZXJ5KHtcblx0XHRcdGNvbXBvbmVudElkOiBwcm9wcy5jb21wb25lbnRJZCxcblx0XHRcdHF1ZXJ5LFxuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSA/IHZhbHVlIDogbnVsbCxcblx0XHRcdGxhYmVsOiBwcm9wcy5maWx0ZXJMYWJlbCxcblx0XHRcdHNob3dGaWx0ZXI6IHByb3BzLnNob3dGaWx0ZXIsXG5cdFx0XHRVUkxQYXJhbXM6IHByb3BzLlVSTFBhcmFtcyxcblx0XHRcdGNvbXBvbmVudFR5cGU6IGNvbXBvbmVudFR5cGVzLnNpbmdsZURhdGFMaXN0LFxuXHRcdH0pO1xuXHR9O1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcywgc3RhdGUpIHtcblx0XHRjb25zdCBxdWVyeU9wdGlvbnMgPSBnZXRRdWVyeU9wdGlvbnMocHJvcHMpO1xuXHRcdGNvbnN0IGluY2x1ZGVzID0gc3RhdGUub3B0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLnZhbHVlKTtcblx0XHRyZXR1cm4gZ2V0QWdnc1F1ZXJ5KHN0YXRlLmN1cnJlbnRWYWx1ZSwgcXVlcnlPcHRpb25zLCBwcm9wcywgaW5jbHVkZXMpO1xuXHR9XG5cblx0dXBkYXRlUXVlcnlPcHRpb25zID0gKHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgcXVlcnlPcHRpb25zID0gU2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnMocHJvcHMsIHRoaXMuc3RhdGUpO1xuXHRcdGlmIChwcm9wcy5kZWZhdWx0UXVlcnkpIHtcblx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWU7XG5cdFx0XHRjb25zdCBkZWZhdWx0UXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShwcm9wcy5kZWZhdWx0UXVlcnkodmFsdWUsIHByb3BzKSk7XG5cdFx0XHRwcm9wcy5zZXRRdWVyeU9wdGlvbnModGhpcy5pbnRlcm5hbENvbXBvbmVudCwge1xuXHRcdFx0XHQuLi5xdWVyeU9wdGlvbnMsXG5cdFx0XHRcdC4uLmRlZmF1bHRRdWVyeU9wdGlvbnMsXG5cdFx0XHR9KTtcblx0XHRcdHVwZGF0ZURlZmF1bHRRdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHRoaXMuaW50ZXJuYWxDb21wb25lbnQsIHF1ZXJ5T3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdHVwZGF0ZVN0YXRlT3B0aW9ucyA9IChidWNrZXQpID0+IHtcblx0XHRpZiAoYnVja2V0KSB7XG5cdFx0XHRjb25zdCBidWNrZXREaWN0aW9uYXJ5ID0gYnVja2V0LnJlZHVjZShcblx0XHRcdFx0KG9iaiwgaXRlbSkgPT4gKHtcblx0XHRcdFx0XHQuLi5vYmosXG5cdFx0XHRcdFx0W2l0ZW0ua2V5XTogaXRlbS5kb2NfY291bnQsXG5cdFx0XHRcdFx0W2l0ZW0ua2V5X2FzX3N0cmluZ106IGl0ZW0uZG9jX2NvdW50LFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0e30sXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXHRcdFx0Y29uc3QgbmV3T3B0aW9ucyA9IG9wdGlvbnMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRcdGlmIChidWNrZXREaWN0aW9uYXJ5W2l0ZW0udmFsdWVdKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdC4uLml0ZW0sXG5cdFx0XHRcdFx0XHRjb3VudDogYnVja2V0RGljdGlvbmFyeVtpdGVtLnZhbHVlXSB8fCAwLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHQuLi5pdGVtLFxuXHRcdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRvcHRpb25zOiBuZXdPcHRpb25zLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdGhhbmRsZUlucHV0Q2hhbmdlID0gKGUpID0+IHtcblx0XHRjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHNlYXJjaFRlcm06IHZhbHVlLFxuXHRcdH0pO1xuXHR9O1xuXG5cdHJlbmRlclNlYXJjaCA9ICgpID0+IHtcblx0XHRpZiAodGhpcy5wcm9wcy5zaG93U2VhcmNoKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8SW5wdXRcblx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdpbnB1dCcpIHx8IG51bGx9XG5cdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2V9XG5cdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNoVGVybX1cblx0XHRcdFx0XHRwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cblx0XHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdFx0bWFyZ2luOiAnMCAwIDhweCcsXG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS1zZWFyY2hgfVxuXHRcdFx0XHRcdHRoZW1lUHJlc2V0PXt0aGlzLnByb3BzLnRoZW1lUHJlc2V0fVxuXHRcdFx0XHQvPlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH07XG5cblx0aGFuZGxlQ2xpY2sgPSAoZSkgPT4ge1xuXHRcdGxldCBjdXJyZW50VmFsdWUgPSBlO1xuXHRcdGlmIChpc0V2ZW50KGUpKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcblx0XHR9XG5cdFx0Y29uc3QgeyBlbmFibGVTdHJpY3RTZWxlY3Rpb24gfSA9IHRoaXMucHJvcHM7XG5cdFx0aWYgKGVuYWJsZVN0cmljdFNlbGVjdGlvbiAmJiBjdXJyZW50VmFsdWUgPT09IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLnNldFZhbHVlKGN1cnJlbnRWYWx1ZSk7XG5cdFx0fSBlbHNlIGlmIChvbkNoYW5nZSkge1xuXHRcdFx0b25DaGFuZ2UoY3VycmVudFZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0Z2V0Q29tcG9uZW50KCkge1xuXHRcdGNvbnN0IHsgY3VycmVudFZhbHVlIH0gPSB0aGlzLnN0YXRlO1xuXHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHR2YWx1ZTogY3VycmVudFZhbHVlLFxuXHRcdFx0ZGF0YTogdGhpcy5saXN0SXRlbXMsXG5cdFx0XHRoYW5kbGVDaGFuZ2U6IHRoaXMuaGFuZGxlQ2xpY2ssXG5cdFx0XHRyYXdEYXRhOiB0aGlzLnByb3BzLnJhd0RhdGEsXG5cdFx0XHR0b3RhbDogdGhpcy5wcm9wcy50b3RhbCxcblx0XHR9O1xuXHRcdHJldHVybiBnZXRDb21wb25lbnQoZGF0YSwgdGhpcy5wcm9wcyk7XG5cdH1cblxuXHRnZXQgaGFzQ3VzdG9tUmVuZGVyZXIoKSB7XG5cdFx0cmV0dXJuIGhhc0N1c3RvbVJlbmRlcmVyKHRoaXMucHJvcHMpO1xuXHR9XG5cblx0Z2V0IGxpc3RJdGVtcygpIHtcblx0XHRjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSBvcHRpb25zLmZpbHRlcigoaXRlbSkgPT4ge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd1NlYXJjaCAmJiB0aGlzLnN0YXRlLnNlYXJjaFRlcm0pIHtcblx0XHRcdFx0cmV0dXJuIHJlcGxhY2VEaWFjcml0aWNzKGl0ZW0ubGFiZWwpXG5cdFx0XHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdFx0XHQuaW5jbHVkZXMocmVwbGFjZURpYWNyaXRpY3ModGhpcy5zdGF0ZS5zZWFyY2hUZXJtKS50b0xvd2VyQ2FzZSgpKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXHRcdHJldHVybiBsaXN0SXRlbXM7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0c2VsZWN0QWxsTGFiZWwsIHNob3dDb3VudCwgcmVuZGVySXRlbSwgdG90YWwsXG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0aWYgKCF0aGlzLmhhc0N1c3RvbVJlbmRlcmVyICYmIG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgPyB0aGlzLnByb3BzLnJlbmRlck5vUmVzdWx0cygpIDogbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSB0aGlzLmxpc3RJdGVtcztcblxuXHRcdGNvbnN0IGlzQWxsQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBzZWxlY3RBbGxMYWJlbDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PENvbnRhaW5lciBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlICYmIChcblx0XHRcdFx0XHQ8VGl0bGUgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAndGl0bGUnKSB8fCBudWxsfT5cblx0XHRcdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlfVxuXHRcdFx0XHRcdDwvVGl0bGU+XG5cdFx0XHRcdCl9XG5cdFx0XHRcdHt0aGlzLnJlbmRlclNlYXJjaCgpfVxuXHRcdFx0XHR7dGhpcy5oYXNDdXN0b21SZW5kZXJlciA/IChcblx0XHRcdFx0XHR0aGlzLmdldENvbXBvbmVudCgpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0PFNpbmdsZURhdGFMaXN0VUxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xpc3QnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0taXRlbXNgfVxuXHRcdFx0XHRcdFx0ZGlzcGxheUFzVmVydGljYWw9e3RoaXMucHJvcHMuZGlzcGxheUFzVmVydGljYWx9XG5cdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9ncm91cFwiXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e3NlbGVjdEFsbExhYmVsICYmIChcblx0XHRcdFx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0XHRcdFx0a2V5PXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake2lzQWxsQ2hlY2tlZCA/ICdhY3RpdmUnIDogJyd9YH1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9cIlxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNBbGxDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0PFJhZGlvXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7c2VsZWN0QWxsTGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0FsbENoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0FsbENoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRzaG93PXt0aGlzLnByb3BzLnNob3dSYWRpb31cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0XHRcdFx0aHRtbEZvcj17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tJHtzZWxlY3RBbGxMYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdDxTcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7c2VsZWN0QWxsTGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtzaG93Q291bnQgJiYgdG90YWwgJiYgKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnY291bnQnKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR8fCBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Jm5ic3A7KHt0b3RhbH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9TcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XG5cdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0e2xpc3RJdGVtcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0PyBsaXN0SXRlbXMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaXNDaGVja2VkID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgPT09IGl0ZW0ubGFiZWw7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdDxsaVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRrZXk9e2l0ZW0ubGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17YCR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNDaGVja2VkID8gJ2FjdGl2ZScgOiAnJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZT1cInJhZGlvXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1jaGVja2VkPXtpc0NoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxSYWRpb1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ3JhZGlvJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7aXRlbS5sYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0NoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVhZE9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0NoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2hvdz17dGhpcy5wcm9wcy5zaG93UmFkaW99XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGh0bWxGb3I9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7aXRlbS5sYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3JlbmRlckl0ZW0gPyAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZW5kZXJJdGVtKGl0ZW0ubGFiZWwsIGl0ZW0uY291bnQsIGlzQ2hlY2tlZClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFNwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7c2hvd0NvdW50ICYmIGl0ZW0uY291bnQgJiYgKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5pbm5lckNsYXNzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdjb3VudCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCkgfHwgbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Jm5ic3A7KHtpdGVtLmNvdW50fSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L1NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fSkgLy8gcHJldHRpZXItaWdub3JlXG5cdFx0XHRcdFx0XHRcdDogdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgJiYgdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMoKX1cblx0XHRcdFx0XHQ8L1NpbmdsZURhdGFMaXN0VUw+XG5cdFx0XHRcdCl9XG5cdFx0XHQ8L0NvbnRhaW5lcj5cblx0XHQpO1xuXHR9XG59XG5cblNpbmdsZURhdGFMaXN0LnByb3BUeXBlcyA9IHtcblx0c2V0UXVlcnlPcHRpb25zOiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdHVwZGF0ZVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdHRvdGFsOiB0eXBlcy5udW1iZXIsXG5cdHNlbGVjdGVkVmFsdWU6IHR5cGVzLnNlbGVjdGVkVmFsdWUsXG5cdG9wdGlvbnM6IHR5cGVzLm9wdGlvbnMsXG5cdHJhd0RhdGE6IHR5cGVzLnJhd0RhdGEsXG5cdHNldEN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdC8vIGNvbXBvbmVudCBwcm9wc1xuXHRiZWZvcmVWYWx1ZUNoYW5nZTogdHlwZXMuZnVuYyxcblx0Y2hpbGRyZW46IHR5cGVzLmZ1bmMsXG5cdGNsYXNzTmFtZTogdHlwZXMuc3RyaW5nLFxuXHRjb21wb25lbnRJZDogdHlwZXMuc3RyaW5nUmVxdWlyZWQsXG5cdGN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jLFxuXHRkYXRhOiB0eXBlcy5kYXRhLFxuXHRkYXRhRmllbGQ6IHR5cGVzLnN0cmluZ1JlcXVpcmVkLFxuXHRkZWZhdWx0VmFsdWU6IHR5cGVzLnN0cmluZyxcblx0dmFsdWU6IHR5cGVzLnN0cmluZyxcblx0ZmlsdGVyTGFiZWw6IHR5cGVzLnN0cmluZyxcblx0aW5uZXJDbGFzczogdHlwZXMuc3R5bGUsXG5cdG9uUXVlcnlDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uVmFsdWVDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uQ2hhbmdlOiB0eXBlcy5mdW5jLFxuXHRwbGFjZWhvbGRlcjogdHlwZXMuc3RyaW5nLFxuXHRuZXN0ZWRGaWVsZDogdHlwZXMuc3RyaW5nLFxuXHRyZWFjdDogdHlwZXMucmVhY3QsXG5cdHNlbGVjdEFsbExhYmVsOiB0eXBlcy5zdHJpbmcsXG5cdHNob3dGaWx0ZXI6IHR5cGVzLmJvb2wsXG5cdHNob3dSYWRpbzogdHlwZXMuYm9vbFJlcXVpcmVkLFxuXHRzaG93U2VhcmNoOiB0eXBlcy5ib29sLFxuXHRzdHlsZTogdHlwZXMuc3R5bGUsXG5cdHRoZW1lUHJlc2V0OiB0eXBlcy50aGVtZVByZXNldCxcblx0dGl0bGU6IHR5cGVzLnRpdGxlLFxuXHRVUkxQYXJhbXM6IHR5cGVzLmJvb2wsXG5cdHNob3dDb3VudDogdHlwZXMuYm9vbCxcblx0cmVuZGVyOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJJdGVtOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJOb1Jlc3VsdHM6IHR5cGVzLmZ1bmMsXG5cdGluZGV4OiB0eXBlcy5zdHJpbmcsXG5cdGVuYWJsZVN0cmljdFNlbGVjdGlvbjogdHlwZXMuYm9vbCxcblx0ZGlzcGxheUFzVmVydGljYWw6IHR5cGVzLmJvb2wsXG5cdGVuZHBvaW50OiB0eXBlcy5lbmRwb2ludCxcbn07XG5cblNpbmdsZURhdGFMaXN0LmRlZmF1bHRQcm9wcyA9IHtcblx0Y2xhc3NOYW1lOiBudWxsLFxuXHRwbGFjZWhvbGRlcjogJ1NlYXJjaCcsXG5cdHNob3dGaWx0ZXI6IHRydWUsXG5cdHNob3dSYWRpbzogdHJ1ZSxcblx0c2hvd1NlYXJjaDogdHJ1ZSxcblx0c3R5bGU6IHt9LFxuXHRVUkxQYXJhbXM6IGZhbHNlLFxuXHRzaG93Q291bnQ6IGZhbHNlLFxuXHRlbmFibGVTdHJpY3RTZWxlY3Rpb246IGZhbHNlLFxuXHRkaXNwbGF5QXNWZXJ0aWNhbDogdHJ1ZSxcbn07XG5cbi8vIEFkZCBjb21wb25lbnRUeXBlIGZvciBTU1JcblNpbmdsZURhdGFMaXN0LmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdDtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlLCBwcm9wcykgPT4gKHtcblx0cmF3RGF0YTogc3RhdGUucmF3RGF0YVtwcm9wcy5jb21wb25lbnRJZF0sXG5cdHNlbGVjdGVkVmFsdWU6XG5cdFx0KHN0YXRlLnNlbGVjdGVkVmFsdWVzW3Byb3BzLmNvbXBvbmVudElkXVxuXHRcdFx0JiYgc3RhdGUuc2VsZWN0ZWRWYWx1ZXNbcHJvcHMuY29tcG9uZW50SWRdLnZhbHVlKVxuXHRcdHx8IG51bGwsXG5cdHRoZW1lUHJlc2V0OiBzdGF0ZS5jb25maWcudGhlbWVQcmVzZXQsXG5cdHRvdGFsOiBzdGF0ZS5oaXRzW3Byb3BzLmNvbXBvbmVudElkXSAmJiBzdGF0ZS5oaXRzW3Byb3BzLmNvbXBvbmVudElkXS50b3RhbCxcblx0b3B0aW9uczpcblx0XHRwcm9wcy5uZXN0ZWRGaWVsZCAmJiBzdGF0ZS5hZ2dyZWdhdGlvbnNbcHJvcHMuY29tcG9uZW50SWRdXG5cdFx0XHQ/IHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF0ucmVhY3RpdmVzZWFyY2hfbmVzdGVkXG5cdFx0XHQ6IHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF0sXG59KTtcblxuY29uc3QgbWFwRGlzcGF0Y2h0b1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcblx0c2V0Q3VzdG9tUXVlcnk6IChjb21wb25lbnQsIHF1ZXJ5KSA9PiBkaXNwYXRjaChzZXRDdXN0b21RdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHNldERlZmF1bHRRdWVyeTogKGNvbXBvbmVudCwgcXVlcnkpID0+IGRpc3BhdGNoKHNldERlZmF1bHRRdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHVwZGF0ZVF1ZXJ5OiB1cGRhdGVRdWVyeU9iamVjdCA9PiBkaXNwYXRjaCh1cGRhdGVRdWVyeSh1cGRhdGVRdWVyeU9iamVjdCkpLFxuXHRzZXRRdWVyeU9wdGlvbnM6ICguLi5hcmdzKSA9PiBkaXNwYXRjaChzZXRRdWVyeU9wdGlvbnMoLi4uYXJncykpLFxufSk7XG5cbmNvbnN0IENvbm5lY3RlZENvbXBvbmVudCA9IGNvbm5lY3QoXG5cdG1hcFN0YXRlVG9Qcm9wcyxcblx0bWFwRGlzcGF0Y2h0b1Byb3BzLFxuKShwcm9wcyA9PiA8U2luZ2xlRGF0YUxpc3QgcmVmPXtwcm9wcy5teUZvcndhcmRlZFJlZn0gey4uLnByb3BzfSAvPik7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgRm9yd2FyZFJlZkNvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IChcblx0PFByZWZlcmVuY2VzQ29uc3VtZXIgdXNlclByb3BzPXtwcm9wc30+XG5cdFx0e3ByZWZlcmVuY2VQcm9wcyA9PiAoXG5cdFx0XHQ8Q29tcG9uZW50V3JhcHBlclxuXHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRpbnRlcm5hbENvbXBvbmVudFxuXHRcdFx0XHRjb21wb25lbnRUeXBlPXtjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdH1cblx0XHRcdD5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbXBvbmVudFByb3BzID0+XG5cdFx0XHRcdFx0XHQoPENvbm5lY3RlZENvbXBvbmVudFxuXHRcdFx0XHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRcdFx0XHR7Li4uY29tcG9uZW50UHJvcHN9XG5cdFx0XHRcdFx0XHRcdG15Rm9yd2FyZGVkUmVmPXtyZWZ9XG5cdFx0XHRcdFx0XHQvPilcblx0XHRcdFx0fVxuXHRcdFx0PC9Db21wb25lbnRXcmFwcGVyPlxuXHRcdCl9XG5cdDwvUHJlZmVyZW5jZXNDb25zdW1lcj5cbikpO1xuaG9pc3ROb25SZWFjdFN0YXRpY3MoRm9yd2FyZFJlZkNvbXBvbmVudCwgU2luZ2xlRGF0YUxpc3QpO1xuXG5Gb3J3YXJkUmVmQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ1NpbmdsZURhdGFMaXN0JztcbmV4cG9ydCBkZWZhdWx0IEZvcndhcmRSZWZDb21wb25lbnQ7XG4iXX0= */',
	toString: _EMOTION_STRINGIFIED_CSS_ERROR__
});
var Label = (0, _styledBase2.default)('label', {
	target: 'e3rkxte2',
	label: 'Label'
})(process.env.NODE_ENV === 'production' ? {
	name: 'b9kb3s',
	styles: '::before{width:16px !important;}margin:0.4rem !important;'
} : {
	name: 'b9kb3s',
	styles: '::before{width:16px !important;}margin:0.4rem !important;',
	map: '/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2xpc3QvU2luZ2xlRGF0YUxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNkMwQiIsImZpbGUiOiIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9saXN0L1NpbmdsZURhdGFMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcblx0dXBkYXRlUXVlcnksXG5cdHNldFF1ZXJ5T3B0aW9ucyxcblx0c2V0Q3VzdG9tUXVlcnksXG5cdHNldERlZmF1bHRRdWVyeSxcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL2FjdGlvbnMnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7XG5cdGNoZWNrVmFsdWVDaGFuZ2UsXG5cdGNoZWNrUHJvcENoYW5nZSxcblx0Z2V0Q2xhc3NOYW1lLFxuXHRjaGVja1NvbWVQcm9wQ2hhbmdlLFxuXHRnZXRRdWVyeU9wdGlvbnMsXG5cdGdldE9wdGlvbnNGcm9tUXVlcnksXG5cdGdldEFnZ3NRdWVyeSxcblx0dXBkYXRlQ3VzdG9tUXVlcnksXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSxcblx0dXBkYXRlSW50ZXJuYWxRdWVyeSxcblx0Z2V0Q29tcG9uZW50LFxuXHRoYXNDdXN0b21SZW5kZXJlcixcbn0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL2hlbHBlcic7XG5pbXBvcnQgeyByZXBsYWNlRGlhY3JpdGljcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9zdWdnZXN0aW9ucyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbENvbXBvbmVudElEIH0gZnJvbSAnQGFwcGJhc2Vpby9yZWFjdGl2ZWNvcmUvbGliL3V0aWxzL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBjb21wb25lbnRUeXBlcyB9IGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGVzIGZyb20gJ0BhcHBiYXNlaW8vcmVhY3RpdmVjb3JlL2xpYi91dGlscy90eXBlcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5cbmltcG9ydCBUaXRsZSBmcm9tICcuLi8uLi9zdHlsZXMvVGl0bGUnO1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uL3N0eWxlcy9JbnB1dCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uLy4uL3N0eWxlcy9Db250YWluZXInO1xuaW1wb3J0IHsgVUwsIFJhZGlvIH0gZnJvbSAnLi4vLi4vc3R5bGVzL0Zvcm1Db250cm9sTGlzdCc7XG5pbXBvcnQgeyBjb25uZWN0LCBpc0V2ZW50LCBpc1F1ZXJ5SWRlbnRpY2FsIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IFByZWZlcmVuY2VzQ29uc3VtZXIgZnJvbSAnLi4vYmFzaWMvUHJlZmVyZW5jZXNDb25zdW1lcic7XG5pbXBvcnQgQ29tcG9uZW50V3JhcHBlciBmcm9tICcuLi9iYXNpYy9Db21wb25lbnRXcmFwcGVyJztcblxuY29uc3QgU2luZ2xlRGF0YUxpc3RVTCA9IHN0eWxlZChVTClgXG5cdGRpc3BsYXk6ICR7KHsgZGlzcGxheUFzVmVydGljYWwgfSkgPT4gKGRpc3BsYXlBc1ZlcnRpY2FsID8gJ2Jsb2NrJyA6ICdmbGV4Jyl9O1xuXHR3aGl0ZS1zcGFjZTogbm93cmFwO1xuYDtcblxuY29uc3QgU3BhbiA9IHN0eWxlZC5zcGFuYFxuXHR3aWR0aDogYXV0byAhaW1wb3J0YW50O1xuYDtcbmNvbnN0IExhYmVsID0gc3R5bGVkLmxhYmVsYFxuXHQ6OmJlZm9yZSB7XG5cdFx0d2lkdGg6IDE2cHggIWltcG9ydGFudDtcblx0fVxuXHRtYXJnaW46IDAuNHJlbSAhaW1wb3J0YW50O1xuYDtcblxuY2xhc3MgU2luZ2xlRGF0YUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBwcm9wcy52YWx1ZTtcblx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IGRlZmF1bHRWYWx1ZSB8fCAnJztcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0Y3VycmVudFZhbHVlLFxuXHRcdFx0c2VhcmNoVGVybTogJycsXG5cdFx0XHRvcHRpb25zOiBwcm9wcy5kYXRhIHx8IFtdLFxuXHRcdH07XG5cblx0XHR0aGlzLmludGVybmFsQ29tcG9uZW50ID0gZ2V0SW50ZXJuYWxDb21wb25lbnRJRChwcm9wcy5jb21wb25lbnRJZCk7XG5cblx0XHQvLyBTZXQgY3VzdG9tIGFuZCBkZWZhdWx0IHF1ZXJpZXMgaW4gc3RvcmVcblx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHByb3BzLmNvbXBvbmVudElkLCBwcm9wcywgY3VycmVudFZhbHVlKTtcblx0XHRjb25zdCBoYXNNb3VudGVkID0gZmFsc2U7XG5cblx0XHRpZiAocHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRWYWx1ZSkge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShjdXJyZW50VmFsdWUsIHRydWUsIHByb3BzLCBoYXNNb3VudGVkKTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdFx0Y2hlY2tTb21lUHJvcENoYW5nZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMsIFsnZGF0YUZpZWxkJywgJ25lc3RlZEZpZWxkJywgJ2FnZ3JlZ2F0aW9uU2l6ZSddLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5KHRoaXMuc3RhdGUuY3VycmVudFZhbHVlLCB0aGlzLnByb3BzKTtcblxuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd0NvdW50KSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlUXVlcnlPcHRpb25zKHRoaXMucHJvcHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y2hlY2tQcm9wQ2hhbmdlKHRoaXMucHJvcHMuZGF0YSwgcHJldlByb3BzLmRhdGEsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLnByb3BzLnNob3dDb3VudCkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5T3B0aW9ucyh0aGlzLnByb3BzKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNoZWNrUHJvcENoYW5nZSh0aGlzLnByb3BzLm9wdGlvbnMsIHByZXZQcm9wcy5vcHRpb25zLCAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vcHRpb25zW3RoaXMucHJvcHMuZGF0YUZpZWxkXSkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlT3B0aW9ucyh0aGlzLnByb3BzLm9wdGlvbnNbdGhpcy5wcm9wcy5kYXRhRmllbGRdLmJ1Y2tldHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVHJlYXQgZGVmYXVsdFF1ZXJ5IGFuZCBjdXN0b21RdWVyeSBhcyByZWFjdGl2ZSBwcm9wc1xuXHRcdGlmICghaXNRdWVyeUlkZW50aWNhbCh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdGhpcy5wcm9wcywgcHJldlByb3BzLCAnZGVmYXVsdFF1ZXJ5JykpIHtcblx0XHRcdHRoaXMudXBkYXRlRGVmYXVsdFF1ZXJ5KCk7XG5cdFx0XHR0aGlzLnVwZGF0ZVF1ZXJ5KCcnLCB0aGlzLnByb3BzKTtcblx0XHR9XG5cblx0XHRpZiAoIWlzUXVlcnlJZGVudGljYWwodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMsIHByZXZQcm9wcywgJ2N1c3RvbVF1ZXJ5JykpIHtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkodGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUsIHRoaXMucHJvcHMpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnByb3BzLnZhbHVlICE9PSBwcmV2UHJvcHMudmFsdWUpIHtcblx0XHRcdHRoaXMuc2V0VmFsdWUodGhpcy5wcm9wcy52YWx1ZSk7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdHRoaXMuc3RhdGUuY3VycmVudFZhbHVlICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWVcblx0XHRcdCYmIHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZSAhPT0gcHJldlByb3BzLnNlbGVjdGVkVmFsdWVcblx0XHQpIHtcblx0XHRcdGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuXHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWUgfHwgJycpO1xuXHRcdFx0fSBlbHNlIGlmIChvbkNoYW5nZSkge1xuXHRcdFx0XHRvbkNoYW5nZSh0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWUgfHwgJycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSh0aGlzLnN0YXRlLmN1cnJlbnRWYWx1ZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGRlZmF1bHRRdWVyeSA9ICh2YWx1ZSwgcHJvcHMpID0+ICh7XG5cdFx0cXVlcnk6IHtcblx0XHRcdHF1ZXJ5Rm9ybWF0OiBwcm9wcy5xdWVyeUZvcm1hdCxcblx0XHRcdGRhdGFGaWVsZDogcHJvcHMuZGF0YUZpZWxkLFxuXHRcdFx0dmFsdWUsXG5cdFx0XHRuZXN0ZWRGaWVsZDogcHJvcHMubmVzdGVkRmllbGQsXG5cdFx0XHRzZWxlY3RBbGxMYWJlbDogcHJvcHMuc2VsZWN0QWxsTGFiZWwsXG5cdFx0XHRzaG93TWlzc2luZzogcHJvcHMuc2hvd01pc3NpbmcsXG5cdFx0fSxcblx0fSk7XG5cblx0c2V0VmFsdWUgPSAobmV4dFZhbHVlLCBpc0RlZmF1bHRWYWx1ZSA9IGZhbHNlLCBwcm9wcyA9IHRoaXMucHJvcHMsIGhhc01vdW50ZWQgPSB0cnVlKSA9PiB7XG5cdFx0bGV0IHZhbHVlID0gbmV4dFZhbHVlO1xuXG5cdFx0aWYgKGlzRGVmYXVsdFZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IG5leHRWYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG5leHRWYWx1ZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgJiYgaGFzTW91bnRlZCkge1xuXHRcdFx0dmFsdWUgPSAnJztcblx0XHR9XG5cblx0XHRjb25zdCBwZXJmb3JtVXBkYXRlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlVXBkYXRlcyA9ICgpID0+IHtcblx0XHRcdFx0dGhpcy51cGRhdGVRdWVyeSh2YWx1ZSwgcHJvcHMpO1xuXHRcdFx0XHRpZiAocHJvcHMub25WYWx1ZUNoYW5nZSkgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoaGFzTW91bnRlZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRoYW5kbGVVcGRhdGVzLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlVXBkYXRlcygpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjaGVja1ZhbHVlQ2hhbmdlKHByb3BzLmNvbXBvbmVudElkLCB2YWx1ZSwgcHJvcHMuYmVmb3JlVmFsdWVDaGFuZ2UsIHBlcmZvcm1VcGRhdGUpO1xuXHR9O1xuXG5cdHVwZGF0ZURlZmF1bHRRdWVyeSA9IChxdWVyeU9wdGlvbnMpID0+IHtcblx0XHRjb25zdCB7IGN1cnJlbnRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHQvLyBVcGRhdGUgZGVmYXVsdCBxdWVyeSBmb3IgUlMgQVBJXG5cdFx0dXBkYXRlRGVmYXVsdFF1ZXJ5KHRoaXMucHJvcHMuY29tcG9uZW50SWQsIHRoaXMucHJvcHMsIGN1cnJlbnRWYWx1ZSk7XG5cdFx0dXBkYXRlSW50ZXJuYWxRdWVyeShcblx0XHRcdHRoaXMuaW50ZXJuYWxDb21wb25lbnQsXG5cdFx0XHRxdWVyeU9wdGlvbnMsXG5cdFx0XHRjdXJyZW50VmFsdWUsXG5cdFx0XHR0aGlzLnByb3BzLFxuXHRcdFx0U2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSksXG5cdFx0XHRudWxsLFxuXHRcdCk7XG5cdH07XG5cblx0dXBkYXRlUXVlcnkgPSAodmFsdWUsIHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgeyBjdXN0b21RdWVyeSB9ID0gcHJvcHM7XG5cdFx0bGV0IGN1c3RvbVF1ZXJ5T3B0aW9ucztcblxuXHRcdGxldCBjdXJyZW50VmFsdWUgPSB2YWx1ZTtcblx0XHRpZiAodmFsdWUgIT09IHByb3BzLnNlbGVjdEFsbExhYmVsKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5kYXRhLmZpbmQoaXRlbSA9PiBpdGVtLmxhYmVsID09PSB2YWx1ZSk7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUgPyBjdXJyZW50VmFsdWUudmFsdWUgOiBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBwcm9wcy5zZWxlY3RBbGxMYWJlbDtcblx0XHR9XG5cdFx0Y29uc3QgcXVlcnkgPSBTaW5nbGVEYXRhTGlzdC5kZWZhdWx0UXVlcnkoY3VycmVudFZhbHVlLCBwcm9wcyk7XG5cdFx0aWYgKGN1c3RvbVF1ZXJ5KSB7XG5cdFx0XHR1cGRhdGVDdXN0b21RdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9XG5cdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHByb3BzLmNvbXBvbmVudElkLCBjdXN0b21RdWVyeU9wdGlvbnMsIGZhbHNlKTtcblxuXHRcdHByb3BzLnVwZGF0ZVF1ZXJ5KHtcblx0XHRcdGNvbXBvbmVudElkOiBwcm9wcy5jb21wb25lbnRJZCxcblx0XHRcdHF1ZXJ5LFxuXHRcdFx0dmFsdWU6IGN1cnJlbnRWYWx1ZSA/IHZhbHVlIDogbnVsbCxcblx0XHRcdGxhYmVsOiBwcm9wcy5maWx0ZXJMYWJlbCxcblx0XHRcdHNob3dGaWx0ZXI6IHByb3BzLnNob3dGaWx0ZXIsXG5cdFx0XHRVUkxQYXJhbXM6IHByb3BzLlVSTFBhcmFtcyxcblx0XHRcdGNvbXBvbmVudFR5cGU6IGNvbXBvbmVudFR5cGVzLnNpbmdsZURhdGFMaXN0LFxuXHRcdH0pO1xuXHR9O1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVF1ZXJ5T3B0aW9ucyhwcm9wcywgc3RhdGUpIHtcblx0XHRjb25zdCBxdWVyeU9wdGlvbnMgPSBnZXRRdWVyeU9wdGlvbnMocHJvcHMpO1xuXHRcdGNvbnN0IGluY2x1ZGVzID0gc3RhdGUub3B0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLnZhbHVlKTtcblx0XHRyZXR1cm4gZ2V0QWdnc1F1ZXJ5KHN0YXRlLmN1cnJlbnRWYWx1ZSwgcXVlcnlPcHRpb25zLCBwcm9wcywgaW5jbHVkZXMpO1xuXHR9XG5cblx0dXBkYXRlUXVlcnlPcHRpb25zID0gKHByb3BzKSA9PiB7XG5cdFx0Y29uc3QgcXVlcnlPcHRpb25zID0gU2luZ2xlRGF0YUxpc3QuZ2VuZXJhdGVRdWVyeU9wdGlvbnMocHJvcHMsIHRoaXMuc3RhdGUpO1xuXHRcdGlmIChwcm9wcy5kZWZhdWx0UXVlcnkpIHtcblx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWU7XG5cdFx0XHRjb25zdCBkZWZhdWx0UXVlcnlPcHRpb25zID0gZ2V0T3B0aW9uc0Zyb21RdWVyeShwcm9wcy5kZWZhdWx0UXVlcnkodmFsdWUsIHByb3BzKSk7XG5cdFx0XHRwcm9wcy5zZXRRdWVyeU9wdGlvbnModGhpcy5pbnRlcm5hbENvbXBvbmVudCwge1xuXHRcdFx0XHQuLi5xdWVyeU9wdGlvbnMsXG5cdFx0XHRcdC4uLmRlZmF1bHRRdWVyeU9wdGlvbnMsXG5cdFx0XHR9KTtcblx0XHRcdHVwZGF0ZURlZmF1bHRRdWVyeShwcm9wcy5jb21wb25lbnRJZCwgcHJvcHMsIHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMuc2V0UXVlcnlPcHRpb25zKHRoaXMuaW50ZXJuYWxDb21wb25lbnQsIHF1ZXJ5T3B0aW9ucyk7XG5cdFx0fVxuXHR9O1xuXG5cdHVwZGF0ZVN0YXRlT3B0aW9ucyA9IChidWNrZXQpID0+IHtcblx0XHRpZiAoYnVja2V0KSB7XG5cdFx0XHRjb25zdCBidWNrZXREaWN0aW9uYXJ5ID0gYnVja2V0LnJlZHVjZShcblx0XHRcdFx0KG9iaiwgaXRlbSkgPT4gKHtcblx0XHRcdFx0XHQuLi5vYmosXG5cdFx0XHRcdFx0W2l0ZW0ua2V5XTogaXRlbS5kb2NfY291bnQsXG5cdFx0XHRcdFx0W2l0ZW0ua2V5X2FzX3N0cmluZ106IGl0ZW0uZG9jX2NvdW50LFxuXHRcdFx0XHR9KSxcblx0XHRcdFx0e30sXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXHRcdFx0Y29uc3QgbmV3T3B0aW9ucyA9IG9wdGlvbnMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRcdGlmIChidWNrZXREaWN0aW9uYXJ5W2l0ZW0udmFsdWVdKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdC4uLml0ZW0sXG5cdFx0XHRcdFx0XHRjb3VudDogYnVja2V0RGljdGlvbmFyeVtpdGVtLnZhbHVlXSB8fCAwLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHQuLi5pdGVtLFxuXHRcdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRvcHRpb25zOiBuZXdPcHRpb25zLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdGhhbmRsZUlucHV0Q2hhbmdlID0gKGUpID0+IHtcblx0XHRjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHNlYXJjaFRlcm06IHZhbHVlLFxuXHRcdH0pO1xuXHR9O1xuXG5cdHJlbmRlclNlYXJjaCA9ICgpID0+IHtcblx0XHRpZiAodGhpcy5wcm9wcy5zaG93U2VhcmNoKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8SW5wdXRcblx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdpbnB1dCcpIHx8IG51bGx9XG5cdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2V9XG5cdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNoVGVybX1cblx0XHRcdFx0XHRwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cblx0XHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdFx0bWFyZ2luOiAnMCAwIDhweCcsXG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRhcmlhLWxhYmVsPXtgJHt0aGlzLnByb3BzLmNvbXBvbmVudElkfS1zZWFyY2hgfVxuXHRcdFx0XHRcdHRoZW1lUHJlc2V0PXt0aGlzLnByb3BzLnRoZW1lUHJlc2V0fVxuXHRcdFx0XHQvPlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH07XG5cblx0aGFuZGxlQ2xpY2sgPSAoZSkgPT4ge1xuXHRcdGxldCBjdXJyZW50VmFsdWUgPSBlO1xuXHRcdGlmIChpc0V2ZW50KGUpKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcblx0XHR9XG5cdFx0Y29uc3QgeyBlbmFibGVTdHJpY3RTZWxlY3Rpb24gfSA9IHRoaXMucHJvcHM7XG5cdFx0aWYgKGVuYWJsZVN0cmljdFNlbGVjdGlvbiAmJiBjdXJyZW50VmFsdWUgPT09IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLnNldFZhbHVlKGN1cnJlbnRWYWx1ZSk7XG5cdFx0fSBlbHNlIGlmIChvbkNoYW5nZSkge1xuXHRcdFx0b25DaGFuZ2UoY3VycmVudFZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0Z2V0Q29tcG9uZW50KCkge1xuXHRcdGNvbnN0IHsgY3VycmVudFZhbHVlIH0gPSB0aGlzLnN0YXRlO1xuXHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHR2YWx1ZTogY3VycmVudFZhbHVlLFxuXHRcdFx0ZGF0YTogdGhpcy5saXN0SXRlbXMsXG5cdFx0XHRoYW5kbGVDaGFuZ2U6IHRoaXMuaGFuZGxlQ2xpY2ssXG5cdFx0XHRyYXdEYXRhOiB0aGlzLnByb3BzLnJhd0RhdGEsXG5cdFx0XHR0b3RhbDogdGhpcy5wcm9wcy50b3RhbCxcblx0XHR9O1xuXHRcdHJldHVybiBnZXRDb21wb25lbnQoZGF0YSwgdGhpcy5wcm9wcyk7XG5cdH1cblxuXHRnZXQgaGFzQ3VzdG9tUmVuZGVyZXIoKSB7XG5cdFx0cmV0dXJuIGhhc0N1c3RvbVJlbmRlcmVyKHRoaXMucHJvcHMpO1xuXHR9XG5cblx0Z2V0IGxpc3RJdGVtcygpIHtcblx0XHRjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSBvcHRpb25zLmZpbHRlcigoaXRlbSkgPT4ge1xuXHRcdFx0aWYgKHRoaXMucHJvcHMuc2hvd1NlYXJjaCAmJiB0aGlzLnN0YXRlLnNlYXJjaFRlcm0pIHtcblx0XHRcdFx0cmV0dXJuIHJlcGxhY2VEaWFjcml0aWNzKGl0ZW0ubGFiZWwpXG5cdFx0XHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdFx0XHQuaW5jbHVkZXMocmVwbGFjZURpYWNyaXRpY3ModGhpcy5zdGF0ZS5zZWFyY2hUZXJtKS50b0xvd2VyQ2FzZSgpKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXHRcdHJldHVybiBsaXN0SXRlbXM7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0c2VsZWN0QWxsTGFiZWwsIHNob3dDb3VudCwgcmVuZGVySXRlbSwgdG90YWwsXG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBvcHRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0aWYgKCF0aGlzLmhhc0N1c3RvbVJlbmRlcmVyICYmIG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgPyB0aGlzLnByb3BzLnJlbmRlck5vUmVzdWx0cygpIDogbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCBsaXN0SXRlbXMgPSB0aGlzLmxpc3RJdGVtcztcblxuXHRcdGNvbnN0IGlzQWxsQ2hlY2tlZCA9IHRoaXMuc3RhdGUuY3VycmVudFZhbHVlID09PSBzZWxlY3RBbGxMYWJlbDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PENvbnRhaW5lciBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlICYmIChcblx0XHRcdFx0XHQ8VGl0bGUgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAndGl0bGUnKSB8fCBudWxsfT5cblx0XHRcdFx0XHRcdHt0aGlzLnByb3BzLnRpdGxlfVxuXHRcdFx0XHRcdDwvVGl0bGU+XG5cdFx0XHRcdCl9XG5cdFx0XHRcdHt0aGlzLnJlbmRlclNlYXJjaCgpfVxuXHRcdFx0XHR7dGhpcy5oYXNDdXN0b21SZW5kZXJlciA/IChcblx0XHRcdFx0XHR0aGlzLmdldENvbXBvbmVudCgpXG5cdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0PFNpbmdsZURhdGFMaXN0VUxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ2xpc3QnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0taXRlbXNgfVxuXHRcdFx0XHRcdFx0ZGlzcGxheUFzVmVydGljYWw9e3RoaXMucHJvcHMuZGlzcGxheUFzVmVydGljYWx9XG5cdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9ncm91cFwiXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e3NlbGVjdEFsbExhYmVsICYmIChcblx0XHRcdFx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0XHRcdFx0a2V5PXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Ake2lzQWxsQ2hlY2tlZCA/ICdhY3RpdmUnIDogJyd9YH1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPVwicmFkaW9cIlxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtY2hlY2tlZD17aXNBbGxDaGVja2VkfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0PFJhZGlvXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmlubmVyQ2xhc3MsICdyYWRpbycpfVxuXHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7c2VsZWN0QWxsTGFiZWx9YH1cblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtzZWxlY3RBbGxMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0FsbENoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0FsbENoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRzaG93PXt0aGlzLnByb3BzLnNob3dSYWRpb31cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsfVxuXHRcdFx0XHRcdFx0XHRcdFx0aHRtbEZvcj17YCR7dGhpcy5wcm9wcy5jb21wb25lbnRJZH0tJHtzZWxlY3RBbGxMYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdDxTcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7c2VsZWN0QWxsTGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtzaG93Q291bnQgJiYgdG90YWwgJiYgKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnY291bnQnKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR8fCBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Jm5ic3A7KHt0b3RhbH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9TcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XG5cdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHQpfVxuXHRcdFx0XHRcdFx0e2xpc3RJdGVtcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0PyBsaXN0SXRlbXMubWFwKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaXNDaGVja2VkID0gdGhpcy5zdGF0ZS5jdXJyZW50VmFsdWUgPT09IGl0ZW0ubGFiZWw7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdDxsaVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRrZXk9e2l0ZW0ubGFiZWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17YCR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNDaGVja2VkID8gJ2FjdGl2ZScgOiAnJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cm9sZT1cInJhZGlvXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1jaGVja2VkPXtpc0NoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxSYWRpb1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuaW5uZXJDbGFzcywgJ3JhZGlvJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWQ9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7aXRlbS5sYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhYkluZGV4PXtpc0NoZWNrZWQgPyAnLTEnIDogJzAnfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVhZE9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtpc0NoZWNrZWR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2hvdz17dGhpcy5wcm9wcy5zaG93UmFkaW99XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT17XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5pbm5lckNsYXNzLCAnbGFiZWwnKSB8fCBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGh0bWxGb3I9e2Ake3RoaXMucHJvcHMuY29tcG9uZW50SWR9LSR7aXRlbS5sYWJlbH1gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3JlbmRlckl0ZW0gPyAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZW5kZXJJdGVtKGl0ZW0ubGFiZWwsIGl0ZW0uY291bnQsIGlzQ2hlY2tlZClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFNwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtpdGVtLmxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7c2hvd0NvdW50ICYmIGl0ZW0uY291bnQgJiYgKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXRDbGFzc05hbWUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5pbm5lckNsYXNzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdjb3VudCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCkgfHwgbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Jm5ic3A7KHtpdGVtLmNvdW50fSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L1NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fSkgLy8gcHJldHRpZXItaWdub3JlXG5cdFx0XHRcdFx0XHRcdDogdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMgJiYgdGhpcy5wcm9wcy5yZW5kZXJOb1Jlc3VsdHMoKX1cblx0XHRcdFx0XHQ8L1NpbmdsZURhdGFMaXN0VUw+XG5cdFx0XHRcdCl9XG5cdFx0XHQ8L0NvbnRhaW5lcj5cblx0XHQpO1xuXHR9XG59XG5cblNpbmdsZURhdGFMaXN0LnByb3BUeXBlcyA9IHtcblx0c2V0UXVlcnlPcHRpb25zOiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdHVwZGF0ZVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdHRvdGFsOiB0eXBlcy5udW1iZXIsXG5cdHNlbGVjdGVkVmFsdWU6IHR5cGVzLnNlbGVjdGVkVmFsdWUsXG5cdG9wdGlvbnM6IHR5cGVzLm9wdGlvbnMsXG5cdHJhd0RhdGE6IHR5cGVzLnJhd0RhdGEsXG5cdHNldEN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jUmVxdWlyZWQsXG5cdC8vIGNvbXBvbmVudCBwcm9wc1xuXHRiZWZvcmVWYWx1ZUNoYW5nZTogdHlwZXMuZnVuYyxcblx0Y2hpbGRyZW46IHR5cGVzLmZ1bmMsXG5cdGNsYXNzTmFtZTogdHlwZXMuc3RyaW5nLFxuXHRjb21wb25lbnRJZDogdHlwZXMuc3RyaW5nUmVxdWlyZWQsXG5cdGN1c3RvbVF1ZXJ5OiB0eXBlcy5mdW5jLFxuXHRkYXRhOiB0eXBlcy5kYXRhLFxuXHRkYXRhRmllbGQ6IHR5cGVzLnN0cmluZ1JlcXVpcmVkLFxuXHRkZWZhdWx0VmFsdWU6IHR5cGVzLnN0cmluZyxcblx0dmFsdWU6IHR5cGVzLnN0cmluZyxcblx0ZmlsdGVyTGFiZWw6IHR5cGVzLnN0cmluZyxcblx0aW5uZXJDbGFzczogdHlwZXMuc3R5bGUsXG5cdG9uUXVlcnlDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uVmFsdWVDaGFuZ2U6IHR5cGVzLmZ1bmMsXG5cdG9uQ2hhbmdlOiB0eXBlcy5mdW5jLFxuXHRwbGFjZWhvbGRlcjogdHlwZXMuc3RyaW5nLFxuXHRuZXN0ZWRGaWVsZDogdHlwZXMuc3RyaW5nLFxuXHRyZWFjdDogdHlwZXMucmVhY3QsXG5cdHNlbGVjdEFsbExhYmVsOiB0eXBlcy5zdHJpbmcsXG5cdHNob3dGaWx0ZXI6IHR5cGVzLmJvb2wsXG5cdHNob3dSYWRpbzogdHlwZXMuYm9vbFJlcXVpcmVkLFxuXHRzaG93U2VhcmNoOiB0eXBlcy5ib29sLFxuXHRzdHlsZTogdHlwZXMuc3R5bGUsXG5cdHRoZW1lUHJlc2V0OiB0eXBlcy50aGVtZVByZXNldCxcblx0dGl0bGU6IHR5cGVzLnRpdGxlLFxuXHRVUkxQYXJhbXM6IHR5cGVzLmJvb2wsXG5cdHNob3dDb3VudDogdHlwZXMuYm9vbCxcblx0cmVuZGVyOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJJdGVtOiB0eXBlcy5mdW5jLFxuXHRyZW5kZXJOb1Jlc3VsdHM6IHR5cGVzLmZ1bmMsXG5cdGluZGV4OiB0eXBlcy5zdHJpbmcsXG5cdGVuYWJsZVN0cmljdFNlbGVjdGlvbjogdHlwZXMuYm9vbCxcblx0ZGlzcGxheUFzVmVydGljYWw6IHR5cGVzLmJvb2wsXG5cdGVuZHBvaW50OiB0eXBlcy5lbmRwb2ludCxcbn07XG5cblNpbmdsZURhdGFMaXN0LmRlZmF1bHRQcm9wcyA9IHtcblx0Y2xhc3NOYW1lOiBudWxsLFxuXHRwbGFjZWhvbGRlcjogJ1NlYXJjaCcsXG5cdHNob3dGaWx0ZXI6IHRydWUsXG5cdHNob3dSYWRpbzogdHJ1ZSxcblx0c2hvd1NlYXJjaDogdHJ1ZSxcblx0c3R5bGU6IHt9LFxuXHRVUkxQYXJhbXM6IGZhbHNlLFxuXHRzaG93Q291bnQ6IGZhbHNlLFxuXHRlbmFibGVTdHJpY3RTZWxlY3Rpb246IGZhbHNlLFxuXHRkaXNwbGF5QXNWZXJ0aWNhbDogdHJ1ZSxcbn07XG5cbi8vIEFkZCBjb21wb25lbnRUeXBlIGZvciBTU1JcblNpbmdsZURhdGFMaXN0LmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdDtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlLCBwcm9wcykgPT4gKHtcblx0cmF3RGF0YTogc3RhdGUucmF3RGF0YVtwcm9wcy5jb21wb25lbnRJZF0sXG5cdHNlbGVjdGVkVmFsdWU6XG5cdFx0KHN0YXRlLnNlbGVjdGVkVmFsdWVzW3Byb3BzLmNvbXBvbmVudElkXVxuXHRcdFx0JiYgc3RhdGUuc2VsZWN0ZWRWYWx1ZXNbcHJvcHMuY29tcG9uZW50SWRdLnZhbHVlKVxuXHRcdHx8IG51bGwsXG5cdHRoZW1lUHJlc2V0OiBzdGF0ZS5jb25maWcudGhlbWVQcmVzZXQsXG5cdHRvdGFsOiBzdGF0ZS5oaXRzW3Byb3BzLmNvbXBvbmVudElkXSAmJiBzdGF0ZS5oaXRzW3Byb3BzLmNvbXBvbmVudElkXS50b3RhbCxcblx0b3B0aW9uczpcblx0XHRwcm9wcy5uZXN0ZWRGaWVsZCAmJiBzdGF0ZS5hZ2dyZWdhdGlvbnNbcHJvcHMuY29tcG9uZW50SWRdXG5cdFx0XHQ/IHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF0ucmVhY3RpdmVzZWFyY2hfbmVzdGVkXG5cdFx0XHQ6IHN0YXRlLmFnZ3JlZ2F0aW9uc1twcm9wcy5jb21wb25lbnRJZF0sXG59KTtcblxuY29uc3QgbWFwRGlzcGF0Y2h0b1Byb3BzID0gZGlzcGF0Y2ggPT4gKHtcblx0c2V0Q3VzdG9tUXVlcnk6IChjb21wb25lbnQsIHF1ZXJ5KSA9PiBkaXNwYXRjaChzZXRDdXN0b21RdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHNldERlZmF1bHRRdWVyeTogKGNvbXBvbmVudCwgcXVlcnkpID0+IGRpc3BhdGNoKHNldERlZmF1bHRRdWVyeShjb21wb25lbnQsIHF1ZXJ5KSksXG5cdHVwZGF0ZVF1ZXJ5OiB1cGRhdGVRdWVyeU9iamVjdCA9PiBkaXNwYXRjaCh1cGRhdGVRdWVyeSh1cGRhdGVRdWVyeU9iamVjdCkpLFxuXHRzZXRRdWVyeU9wdGlvbnM6ICguLi5hcmdzKSA9PiBkaXNwYXRjaChzZXRRdWVyeU9wdGlvbnMoLi4uYXJncykpLFxufSk7XG5cbmNvbnN0IENvbm5lY3RlZENvbXBvbmVudCA9IGNvbm5lY3QoXG5cdG1hcFN0YXRlVG9Qcm9wcyxcblx0bWFwRGlzcGF0Y2h0b1Byb3BzLFxuKShwcm9wcyA9PiA8U2luZ2xlRGF0YUxpc3QgcmVmPXtwcm9wcy5teUZvcndhcmRlZFJlZn0gey4uLnByb3BzfSAvPik7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgRm9yd2FyZFJlZkNvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IChcblx0PFByZWZlcmVuY2VzQ29uc3VtZXIgdXNlclByb3BzPXtwcm9wc30+XG5cdFx0e3ByZWZlcmVuY2VQcm9wcyA9PiAoXG5cdFx0XHQ8Q29tcG9uZW50V3JhcHBlclxuXHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRpbnRlcm5hbENvbXBvbmVudFxuXHRcdFx0XHRjb21wb25lbnRUeXBlPXtjb21wb25lbnRUeXBlcy5zaW5nbGVEYXRhTGlzdH1cblx0XHRcdD5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbXBvbmVudFByb3BzID0+XG5cdFx0XHRcdFx0XHQoPENvbm5lY3RlZENvbXBvbmVudFxuXHRcdFx0XHRcdFx0XHR7Li4ucHJlZmVyZW5jZVByb3BzfVxuXHRcdFx0XHRcdFx0XHR7Li4uY29tcG9uZW50UHJvcHN9XG5cdFx0XHRcdFx0XHRcdG15Rm9yd2FyZGVkUmVmPXtyZWZ9XG5cdFx0XHRcdFx0XHQvPilcblx0XHRcdFx0fVxuXHRcdFx0PC9Db21wb25lbnRXcmFwcGVyPlxuXHRcdCl9XG5cdDwvUHJlZmVyZW5jZXNDb25zdW1lcj5cbikpO1xuaG9pc3ROb25SZWFjdFN0YXRpY3MoRm9yd2FyZFJlZkNvbXBvbmVudCwgU2luZ2xlRGF0YUxpc3QpO1xuXG5Gb3J3YXJkUmVmQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ1NpbmdsZURhdGFMaXN0JztcbmV4cG9ydCBkZWZhdWx0IEZvcndhcmRSZWZDb21wb25lbnQ7XG4iXX0= */',
	toString: _EMOTION_STRINGIFIED_CSS_ERROR__
});

var SingleDataList = function (_Component) {
	_inherits(SingleDataList, _Component);

	function SingleDataList(props) {
		_classCallCheck(this, SingleDataList);

		var _this = _possibleConstructorReturn(this, _Component.call(this, props));

		_initialiseProps.call(_this);

		var defaultValue = props.defaultValue || props.value;
		var currentValue = props.selectedValue || defaultValue || '';
		_this.state = {
			currentValue: currentValue,
			searchTerm: '',
			options: props.data || []
		};

		_this.internalComponent = (0, _transform.getInternalComponentID)(props.componentId);

		// Set custom and default queries in store
		(0, _helper.updateCustomQuery)(props.componentId, props, currentValue);
		(0, _helper.updateDefaultQuery)(props.componentId, props, currentValue);
		var hasMounted = false;

		if (props.showCount) {
			_this.updateQueryOptions(props);
		}

		if (currentValue) {
			_this.setValue(currentValue, true, props, hasMounted);
		}
		return _this;
	}

	SingleDataList.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {
		var _this2 = this;

		(0, _helper.checkSomePropChange)(this.props, prevProps, ['dataField', 'nestedField', 'aggregationSize'], function () {
			_this2.updateQuery(_this2.state.currentValue, _this2.props);

			if (_this2.props.showCount) {
				_this2.updateQueryOptions(_this2.props);
			}
		});

		(0, _helper.checkPropChange)(this.props.data, prevProps.data, function () {
			if (_this2.props.showCount) {
				_this2.updateQueryOptions(_this2.props);
			}
		});

		(0, _helper.checkPropChange)(this.props.options, prevProps.options, function () {
			if (_this2.props.options[_this2.props.dataField]) {
				_this2.updateStateOptions(_this2.props.options[_this2.props.dataField].buckets);
			}
		});

		// Treat defaultQuery and customQuery as reactive props
		if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'defaultQuery')) {
			this.updateDefaultQuery();
			this.updateQuery('', this.props);
		}

		if (!(0, _utils.isQueryIdentical)(this.state.currentValue, this.props, prevProps, 'customQuery')) {
			this.updateQuery(this.state.currentValue, this.props);
		}

		if (this.props.value !== prevProps.value) {
			this.setValue(this.props.value);
		} else if (this.state.currentValue !== this.props.selectedValue && this.props.selectedValue !== prevProps.selectedValue) {
			var _props = this.props,
			    value = _props.value,
			    onChange = _props.onChange;

			if (value === undefined) {
				this.setValue(this.props.selectedValue || '');
			} else if (onChange) {
				onChange(this.props.selectedValue || '');
			} else {
				this.setValue(this.state.currentValue, true);
			}
		}
	};

	SingleDataList.generateQueryOptions = function generateQueryOptions(props, state) {
		var queryOptions = (0, _helper.getQueryOptions)(props);
		var includes = state.options.map(function (item) {
			return item.value;
		});
		return (0, _helper.getAggsQuery)(state.currentValue, queryOptions, props, includes);
	};

	SingleDataList.prototype.getComponent = function getComponent() {
		var currentValue = this.state.currentValue;

		var data = {
			value: currentValue,
			data: this.listItems,
			handleChange: this.handleClick,
			rawData: this.props.rawData,
			total: this.props.total
		};
		return (0, _helper.getComponent)(data, this.props);
	};

	SingleDataList.prototype.render = function render() {
		var _this3 = this;

		var _props2 = this.props,
		    selectAllLabel = _props2.selectAllLabel,
		    showCount = _props2.showCount,
		    renderItem = _props2.renderItem,
		    total = _props2.total;
		var options = this.state.options;


		if (!this.hasCustomRenderer && options.length === 0) {
			return this.props.renderNoResults ? this.props.renderNoResults() : null;
		}

		var listItems = this.listItems;

		var isAllChecked = this.state.currentValue === selectAllLabel;
		return _react2.default.createElement(
			_Container2.default,
			{ style: this.props.style, className: this.props.className },
			this.props.title && _react2.default.createElement(
				_Title2.default,
				{ className: (0, _helper.getClassName)(this.props.innerClass, 'title') || null },
				this.props.title
			),
			this.renderSearch(),
			this.hasCustomRenderer ? this.getComponent() : _react2.default.createElement(
				SingleDataListUL,
				{
					className: (0, _helper.getClassName)(this.props.innerClass, 'list') || null,
					'aria-label': this.props.componentId + '-items',
					displayAsVertical: this.props.displayAsVertical,
					role: 'radiogroup'
				},
				selectAllLabel && _react2.default.createElement(
					'li',
					{
						key: selectAllLabel,
						className: '' + (isAllChecked ? 'active' : ''),
						role: 'radio',
						'aria-checked': isAllChecked
					},
					_react2.default.createElement(_FormControlList.Radio, {
						className: (0, _helper.getClassName)(this.props.innerClass, 'radio'),
						id: this.props.componentId + '-' + selectAllLabel,
						value: selectAllLabel,
						tabIndex: isAllChecked ? '-1' : '0',
						onChange: this.handleClick,
						checked: isAllChecked,
						show: this.props.showRadio
					}),
					_react2.default.createElement(
						Label,
						{
							className: (0, _helper.getClassName)(this.props.innerClass, 'label') || null,
							htmlFor: this.props.componentId + '-' + selectAllLabel
						},
						_react2.default.createElement(
							Span,
							null,
							selectAllLabel,
							showCount && total && _react2.default.createElement(
								'span',
								{
									className: (0, _helper.getClassName)(this.props.innerClass, 'count') || null
								},
								'\xA0(',
								total,
								')'
							)
						)
					)
				),
				listItems.length ? listItems.map(function (item) {
					var isChecked = _this3.state.currentValue === item.label;
					return _react2.default.createElement(
						'li',
						{
							key: item.label,
							className: '' + (isChecked ? 'active' : ''),
							role: 'radio',
							'aria-checked': isChecked
						},
						_react2.default.createElement(_FormControlList.Radio, {
							className: (0, _helper.getClassName)(_this3.props.innerClass, 'radio'),
							id: _this3.props.componentId + '-' + item.label,
							tabIndex: isChecked ? '-1' : '0',
							value: item.label,
							onClick: _this3.handleClick,
							readOnly: true,
							checked: isChecked,
							show: _this3.props.showRadio
						}),
						_react2.default.createElement(
							Label,
							{
								className: (0, _helper.getClassName)(_this3.props.innerClass, 'label') || null,
								htmlFor: _this3.props.componentId + '-' + item.label
							},
							renderItem ? renderItem(item.label, item.count, isChecked) : _react2.default.createElement(
								Span,
								null,
								item.label,
								showCount && item.count && _react2.default.createElement(
									'span',
									{
										className: (0, _helper.getClassName)(_this3.props.innerClass, 'count') || null
									},
									'\xA0(',
									item.count,
									')'
								)
							)
						)
					);
				}) // prettier-ignore
				: this.props.renderNoResults && this.props.renderNoResults()
			)
		);
	};

	_createClass(SingleDataList, [{
		key: 'hasCustomRenderer',
		get: function get() {
			return (0, _helper.hasCustomRenderer)(this.props);
		}
	}, {
		key: 'listItems',
		get: function get() {
			var _this4 = this;

			var options = this.state.options;


			var listItems = options.filter(function (item) {
				if (_this4.props.showSearch && _this4.state.searchTerm) {
					return (0, _suggestions.replaceDiacritics)(item.label).toLowerCase().includes((0, _suggestions.replaceDiacritics)(_this4.state.searchTerm).toLowerCase());
				}
				return true;
			});
			return listItems;
		}
	}]);

	return SingleDataList;
}(_react.Component);

SingleDataList.defaultQuery = function (value, props) {
	return {
		query: {
			queryFormat: props.queryFormat,
			dataField: props.dataField,
			value: value,
			nestedField: props.nestedField,
			selectAllLabel: props.selectAllLabel,
			showMissing: props.showMissing
		}
	};
};

var _initialiseProps = function _initialiseProps() {
	var _this5 = this;

	this.setValue = function (nextValue) {
		var isDefaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
		var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this5.props;
		var hasMounted = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;

		var value = nextValue;

		if (isDefaultValue) {
			value = nextValue;
		} else if (nextValue === _this5.state.currentValue && hasMounted) {
			value = '';
		}

		var performUpdate = function performUpdate() {
			var handleUpdates = function handleUpdates() {
				_this5.updateQuery(value, props);
				if (props.onValueChange) props.onValueChange(value);
			};

			if (hasMounted) {
				_this5.setState({
					currentValue: value
				}, handleUpdates);
			} else {
				handleUpdates();
			}
		};

		(0, _helper.checkValueChange)(props.componentId, value, props.beforeValueChange, performUpdate);
	};

	this.updateDefaultQuery = function (queryOptions) {
		var currentValue = _this5.state.currentValue;
		// Update default query for RS API

		(0, _helper.updateDefaultQuery)(_this5.props.componentId, _this5.props, currentValue);
		(0, _helper.updateInternalQuery)(_this5.internalComponent, queryOptions, currentValue, _this5.props, SingleDataList.generateQueryOptions(_this5.props, _this5.state), null);
	};

	this.updateQuery = function (value, props) {
		var customQuery = props.customQuery;

		var customQueryOptions = void 0;

		var currentValue = value;
		if (value !== props.selectAllLabel) {
			currentValue = props.data.find(function (item) {
				return item.label === value;
			});
			currentValue = currentValue ? currentValue.value : null;
		} else {
			currentValue = props.selectAllLabel;
		}
		var query = SingleDataList.defaultQuery(currentValue, props);
		if (customQuery) {
			(0, _helper.updateCustomQuery)(props.componentId, props, value);
		}
		props.setQueryOptions(props.componentId, customQueryOptions, false);

		props.updateQuery({
			componentId: props.componentId,
			query: query,
			value: currentValue ? value : null,
			label: props.filterLabel,
			showFilter: props.showFilter,
			URLParams: props.URLParams,
			componentType: _constants.componentTypes.singleDataList
		});
	};

	this.updateQueryOptions = function (props) {
		var queryOptions = SingleDataList.generateQueryOptions(props, _this5.state);
		if (props.defaultQuery) {
			var value = _this5.state.currentValue;
			var defaultQueryOptions = (0, _helper.getOptionsFromQuery)(props.defaultQuery(value, props));
			props.setQueryOptions(_this5.internalComponent, _extends({}, queryOptions, defaultQueryOptions));
			(0, _helper.updateDefaultQuery)(props.componentId, props, value);
		} else {
			props.setQueryOptions(_this5.internalComponent, queryOptions);
		}
	};

	this.updateStateOptions = function (bucket) {
		if (bucket) {
			var bucketDictionary = bucket.reduce(function (obj, item) {
				var _extends2;

				return _extends({}, obj, (_extends2 = {}, _extends2[item.key] = item.doc_count, _extends2[item.key_as_string] = item.doc_count, _extends2));
			}, {});
			var options = _this5.state.options;

			var newOptions = options.map(function (item) {
				if (bucketDictionary[item.value]) {
					return _extends({}, item, {
						count: bucketDictionary[item.value] || 0
					});
				}
				return _extends({}, item, {
					count: 0
				});
			});

			_this5.setState({
				options: newOptions
			});
		}
	};

	this.handleInputChange = function (e) {
		var value = e.target.value;

		_this5.setState({
			searchTerm: value
		});
	};

	this.renderSearch = function () {
		if (_this5.props.showSearch) {
			return _react2.default.createElement(_Input2.default, {
				className: (0, _helper.getClassName)(_this5.props.innerClass, 'input') || null,
				onChange: _this5.handleInputChange,
				value: _this5.state.searchTerm,
				placeholder: _this5.props.placeholder,
				style: {
					margin: '0 0 8px'
				},
				'aria-label': _this5.props.componentId + '-search',
				themePreset: _this5.props.themePreset
			});
		}
		return null;
	};

	this.handleClick = function (e) {
		var currentValue = e;
		if ((0, _utils.isEvent)(e)) {
			currentValue = e.target.value;
		}
		var enableStrictSelection = _this5.props.enableStrictSelection;

		if (enableStrictSelection && currentValue === _this5.state.currentValue) {
			return false;
		}
		var _props3 = _this5.props,
		    value = _props3.value,
		    onChange = _props3.onChange;

		if (value === undefined) {
			_this5.setValue(currentValue);
		} else if (onChange) {
			onChange(currentValue);
		}
		return true;
	};
};

SingleDataList.propTypes = {
	setQueryOptions: _types2.default.funcRequired,
	updateQuery: _types2.default.funcRequired,
	total: _types2.default.number,
	selectedValue: _types2.default.selectedValue,
	options: _types2.default.options,
	rawData: _types2.default.rawData,
	setCustomQuery: _types2.default.funcRequired,
	// component props
	beforeValueChange: _types2.default.func,
	children: _types2.default.func,
	className: _types2.default.string,
	componentId: _types2.default.stringRequired,
	customQuery: _types2.default.func,
	data: _types2.default.data,
	dataField: _types2.default.stringRequired,
	defaultValue: _types2.default.string,
	value: _types2.default.string,
	filterLabel: _types2.default.string,
	innerClass: _types2.default.style,
	onQueryChange: _types2.default.func,
	onValueChange: _types2.default.func,
	onChange: _types2.default.func,
	placeholder: _types2.default.string,
	nestedField: _types2.default.string,
	react: _types2.default.react,
	selectAllLabel: _types2.default.string,
	showFilter: _types2.default.bool,
	showRadio: _types2.default.boolRequired,
	showSearch: _types2.default.bool,
	style: _types2.default.style,
	themePreset: _types2.default.themePreset,
	title: _types2.default.title,
	URLParams: _types2.default.bool,
	showCount: _types2.default.bool,
	render: _types2.default.func,
	renderItem: _types2.default.func,
	renderNoResults: _types2.default.func,
	index: _types2.default.string,
	enableStrictSelection: _types2.default.bool,
	displayAsVertical: _types2.default.bool,
	endpoint: _types2.default.endpoint
};

SingleDataList.defaultProps = {
	className: null,
	placeholder: 'Search',
	showFilter: true,
	showRadio: true,
	showSearch: true,
	style: {},
	URLParams: false,
	showCount: false,
	enableStrictSelection: false,
	displayAsVertical: true
};

// Add componentType for SSR
SingleDataList.componentType = _constants.componentTypes.singleDataList;

var mapStateToProps = function mapStateToProps(state, props) {
	return {
		rawData: state.rawData[props.componentId],
		selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,
		themePreset: state.config.themePreset,
		total: state.hits[props.componentId] && state.hits[props.componentId].total,
		options: props.nestedField && state.aggregations[props.componentId] ? state.aggregations[props.componentId].reactivesearch_nested : state.aggregations[props.componentId]
	};
};

var mapDispatchtoProps = function mapDispatchtoProps(dispatch) {
	return {
		setCustomQuery: function setCustomQuery(component, query) {
			return dispatch((0, _actions.setCustomQuery)(component, query));
		},
		setDefaultQuery: function setDefaultQuery(component, query) {
			return dispatch((0, _actions.setDefaultQuery)(component, query));
		},
		updateQuery: function updateQuery(updateQueryObject) {
			return dispatch((0, _actions.updateQuery)(updateQueryObject));
		},
		setQueryOptions: function setQueryOptions() {
			return dispatch(_actions.setQueryOptions.apply(undefined, arguments));
		}
	};
};

var ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {
	return _react2.default.createElement(SingleDataList, _extends({ ref: props.myForwardedRef }, props));
});

// eslint-disable-next-line
var ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {
	return _react2.default.createElement(
		_PreferencesConsumer2.default,
		{ userProps: props },
		function (preferenceProps) {
			return _react2.default.createElement(
				_ComponentWrapper2.default,
				_extends({}, preferenceProps, {
					internalComponent: true,
					componentType: _constants.componentTypes.singleDataList
				}),
				function (componentProps) {
					return _react2.default.createElement(ConnectedComponent, _extends({}, preferenceProps, componentProps, {
						myForwardedRef: ref
					}));
				}
			);
		}
	);
});
(0, _hoistNonReactStatics2.default)(ForwardRefComponent, SingleDataList);

ForwardRefComponent.displayName = 'SingleDataList';
exports.default = ForwardRefComponent;